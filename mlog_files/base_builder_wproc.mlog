# Source: https://github.com/cardillan/golem/blob/main/base-builder/BaseBuilder.mlog
# (all the files are blobbed together)

read *tmp32 processor2 "*signature"
jump 0 notEqual *tmp32 "0:v1"
read *tmp71 processor3 "*signature"
jump 2 notEqual *tmp71 "2b365030e19b2b7f:v1"
read *tmp97 processor7 "*signature"
jump 4 notEqual *tmp97 "0:v1"
read *tmp100 processor6 "*signature"
jump 6 notEqual *tmp100 "2bc8cecff9ae5b38:v1"
read *tmp143 processor5 "*signature"
jump 8 notEqual *tmp143 "68e0262eef69ac6b:v1"
set .ERROR ""
ubind @poly
set .builder @unit
ulocate building core false @copper .coreX .coreY 0 .core
jump 11 equal .core null
ulocate ore core true @sand 0 0 *tmp148 0
op equal .scrap *tmp148 false
write .scrap processor2 ".scrap"
write .scrap processor5 ".scrap"
write .scrap processor7 ".scrap"
write "AJEMJJ-graphite-press0" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 24 equal *tmp302 false
write "AJTJK-battery1" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 31 equal *tmp302 false
write "ALTJL-battery2" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 38 equal *tmp302 false
write "AJRJM-combustion-generator3" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 45 equal *tmp302 false
write 400 processor5 ".powerTarget"
set .sandContainer .core
jump 75 notEqual *tmp148 false
write "AXPRJd-pulverizer26" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 55 equal *tmp302 false
read :buildBlockFromCfgLocal*retval processor5 ":buildBlockFromCfg*retval"
set .sandContainer :buildBlockFromCfgLocal*retval
write :buildBlockFromCfgLocal*retval processor5 ".sandContainer"
write "A~PPJe-overflow-gate27" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 65 equal *tmp302 false
write "APTJf-power-node28" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 72 equal *tmp302 false
write "ALMQJN-silicon-smelter4" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 79 equal *tmp302 false
write "A{LNJO-inverted-sorter5" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 86 equal *tmp302 false
write "AJJJ~-pneumatic-drill52" processor5 ":meetTargetCfg:cfg"
write false processor5 ":meetTargetCfg:forBuild"
write false processor5 ":meetTargetCfg*finished"
write 7 processor5 "@counter"
wait 1e-15
read *tmp166 processor5 ":meetTargetCfg*finished"
jump 93 equal *tmp166 false
write @ore-titanium processor2 ".nextBlock"
write .coreX processor3 ":findDrillLocation:x"
write .coreY processor3 ":findDrillLocation:y"
write @unit processor3 ":findDrillLocation:unit"
write @titanium processor3 ":findDrillLocation:item"
write @ore-titanium processor3 ":findDrillLocation:ore"
write 2 processor3 ":findDrillLocation:size"
write 4 processor3 ":findDrillLocation:limit"
write false processor3 ":findDrillLocation*finished"
write 1 processor3 "@counter"
wait 1e-15
read *tmp177 processor3 ":findDrillLocation*finished"
jump 106 equal *tmp177 false
read :buildFirstTitaniumDrill:dx processor3 ":findDrillLocation:dx"
read :buildFirstTitaniumDrill:dy processor3 ":findDrillLocation:dy"
write @pneumatic-drill processor2 ".nextBlock"
write :buildFirstTitaniumDrill:dx processor5 ":buildFirstTitaniumDrillAt:x"
write :buildFirstTitaniumDrill:dy processor5 ":buildFirstTitaniumDrillAt:y"
write false processor5 ":buildFirstTitaniumDrillAt*finished"
write 3 processor5 "@counter"
wait 1e-15
read *tmp183 processor5 ":buildFirstTitaniumDrillAt*finished"
jump 116 equal *tmp183 false
read *tmp163 processor5 ":buildFirstTitaniumDrillAt*retval"
write *tmp163 processor2 ".titaniumDrill"
write *tmp163 processor5 ".titaniumDrill"
jump 161 notEqual *tmp148 false
write "A©RPJg-unloader29" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 127 equal *tmp302 false
write "A¨SSJh-container30" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 134 equal *tmp302 false
read :buildBlockFromCfgLocal*retval processor5 ":buildBlockFromCfg*retval"
set .sandContainer :buildBlockFromCfgLocal*retval
write :buildBlockFromCfgLocal*retval processor5 ".sandContainer"
write "AXTPJi-pulverizer31" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 144 equal *tmp302 false
write "A~RNJj-overflow-gate32" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 151 equal *tmp302 false
write "A~RLJk-overflow-gate33" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 158 equal *tmp302 false
write .sandContainer processor7 ".sandContainer"
write "A{HNJQ-inverted-sorter7" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 166 equal *tmp302 false
write "AJPJR-underflow-gate8" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 173 equal *tmp302 false
write "A©JNJP-unloader6" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 180 equal *tmp302 false
write 80 processor5 ".graphiteSurplus"
write "AÕFFJS-micro-processor9" processor5 ":buildBlockFromCfg:cfg"
write processor10 processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp197 processor5 ":buildBlockFromCfg*finished"
jump 188 equal *tmp197 false
write processor1 AÕFFJS-micro-processor9 ".timer"
write processor2 AÕFFJS-micro-processor9 ".display"
write .core AÕFFJS-micro-processor9 ".core"
write bank1 AÕFFJS-micro-processor9 ".bank"
set *tmp200 AJEMJJ-graphite-press0
write *tmp200 AÕFFJS-micro-processor9 "AJEMJJ-graphite-press0"
set *tmp200 AJTJK-battery1
write *tmp200 AÕFFJS-micro-processor9 "AJTJK-battery1"
set *tmp200 ALTJL-battery2
write *tmp200 AÕFFJS-micro-processor9 "ALTJL-battery2"
set *tmp200 AJRJM-combustion-generator3
write *tmp200 AÕFFJS-micro-processor9 "AJRJM-combustion-generator3"
set *tmp200 ALMQJN-silicon-smelter4
write *tmp200 AÕFFJS-micro-processor9 "ALMQJN-silicon-smelter4"
set *tmp200 A{LNJO-inverted-sorter5
write *tmp200 AÕFFJS-micro-processor9 "A{LNJO-inverted-sorter5"
set *tmp200 A©JNJP-unloader6
write *tmp200 AÕFFJS-micro-processor9 "A©JNJP-unloader6"
set *tmp200 A{HNJQ-inverted-sorter7
write *tmp200 AÕFFJS-micro-processor9 "A{HNJQ-inverted-sorter7"
set *tmp200 AJPJR-underflow-gate8
write *tmp200 AÕFFJS-micro-processor9 "AJPJR-underflow-gate8"
set *tmp200 AÕFFJS-micro-processor9
write *tmp200 AÕFFJS-micro-processor9 "AÕFFJS-micro-processor9"
write A©RPJg-unloader29 AÕFFJS-micro-processor9 "A©RPJg-unloader29"
write "AFHJT-power-node10" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 220 equal *tmp302 false
write "A©FJJU-unloader11" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 227 equal *tmp302 false
write "A~DJJV-overflow-gate12" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 234 equal *tmp302 false
write "A¾BFLW-air-factory13" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 241 equal *tmp302 false
write 1 AÕFFJS-micro-processor9 ".flareTarget"
write 5 AÕFFJS-micro-processor9 ".monoTarget"
write 85 AÕFFJS-micro-processor9 ".pressTarget"
write 150 AÕFFJS-micro-processor9 ".smelterTarget"
write 30 AÕFFJS-micro-processor9 ".kilnTarget"
write 20 processor5 ".siliconSurplus"
write 2 processor5 ".leadSurplus"
write 0 processor5 ":meetTarget:block"
write 0 processor5 ":meetTarget:copper"
write 0 processor5 ":meetTarget:lead"
write 0 processor5 ":meetTarget:graphite"
write 0 processor5 ":meetTarget:silicon"
write 0 processor5 ":meetTarget:titanium"
write 0 processor5 ":meetTarget:metaglass"
write 0 processor5 ":meetTarget:thorium"
write false processor5 ":meetTarget:forBuild"
write true processor5 ":meetTarget:isNoTarget"
write false processor5 ":meetTarget*finished"
write 6 processor5 "@counter"
wait 1e-15
read *tmp314 processor5 ":meetTarget*finished"
jump 263 equal *tmp314 false
write 0 processor2 ".totalTargets"
write null processor2 ".nextBlock"
write 0 AÕFFJS-micro-processor9 ".siliconReserve"
write 0 AÕFFJS-micro-processor9 ".graphiteReserve"
write false processor5 ":supplyBase*finished"
write 8 processor5 "@counter"
wait 1e-15
read *tmp206 processor5 ":supplyBase*finished"
jump 272 equal *tmp206 false
sensor *tmp207 AJTJK-battery1 @totalPower
jump 279 lessThan *tmp207 300
read *tmp81 AÕFFJS-micro-processor9 ".monos"
jump 270 lessThan *tmp81 2
write 65 processor5 ".siliconSurplus"
write "A©NHJX-unloader14" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 284 equal *tmp302 false
write "A{NJJY-inverted-sorter15" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 291 equal *tmp302 false
write "ANOMJZ-kiln16" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 298 equal *tmp302 false
write "AÜAOJ[-liquid-container17" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 305 equal *tmp302 false
write "A¡ASJ\-water-extractor18" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 312 equal *tmp302 false
write "AAKJ]-steam-generator19" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 319 equal *tmp302 false
write "AKFRJ_-multi-press21" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 326 equal *tmp302 false
write 200 processor5 ".graphiteSurplus"
write "ALQIJ^-silicon-smelter20" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 334 equal *tmp302 false
jump 358 notEqual *tmp148 false
write "AXTNJl-pulverizer34" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 342 equal *tmp302 false
write "AXTLJm-pulverizer35" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 349 equal *tmp302 false
write .sandContainer processor6 ":setScrapContainer:scrapContainer"
write false processor6 ":setScrapContainer*finished"
write 1 processor6 "@counter"
wait 1e-15
read *tmp223 processor6 ":setScrapContainer*finished"
jump 355 equal *tmp223 false
write "A©HFJ`-unloader22" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 362 equal *tmp302 false
write "A{HDJa-inverted-sorter23" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 369 equal *tmp302 false
write "AÀF@Lb-additive-reconstructor24" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 376 equal *tmp302 false
write 1000 processor5 ".siliconSurplus"
write 20 processor5 ".siliconMonoSurplus"
write 100 processor5 ".metaglassSurplus"
write 4 AÕFFJS-micro-processor9 ".monoTarget"
write 3 AÕFFJS-micro-processor9 ".polyTarget"
write 0 processor5 ":meetTarget:block"
write 0 processor5 ":meetTarget:copper"
write 0 processor5 ":meetTarget:lead"
write 0 processor5 ":meetTarget:graphite"
write 0 processor5 ":meetTarget:silicon"
write 0 processor5 ":meetTarget:titanium"
write 0 processor5 ":meetTarget:metaglass"
write 0 processor5 ":meetTarget:thorium"
write false processor5 ":meetTarget:forBuild"
write true processor5 ":meetTarget:isNoTarget"
write false processor5 ":meetTarget*finished"
write 6 processor5 "@counter"
wait 1e-15
read *tmp314 processor5 ":meetTarget*finished"
jump 396 equal *tmp314 false
write 0 processor2 ".totalTargets"
write null processor2 ".nextBlock"
write 0 AÕFFJS-micro-processor9 ".siliconReserve"
write 0 AÕFFJS-micro-processor9 ".graphiteReserve"
read *tmp82 AÕFFJS-micro-processor9 ".polys"
jump 412 greaterThanEq *tmp82 2
write false processor5 ":supplyBase*finished"
write 8 processor5 "@counter"
wait 1e-15
read *tmp228 processor5 ":supplyBase*finished"
jump 407 equal *tmp228 false
read *tmp82 AÕFFJS-micro-processor9 ".polys"
jump 405 lessThan *tmp82 2
write 2 AÕFFJS-micro-processor9 ".flareTarget"
read *tmp80 AÕFFJS-micro-processor9 ".flares"
jump 422 greaterThanEq *tmp80 2
write false processor5 ":supplyBase*finished"
write 8 processor5 "@counter"
wait 1e-15
read *tmp230 processor5 ":supplyBase*finished"
jump 417 equal *tmp230 false
read *tmp80 AÕFFJS-micro-processor9 ".flares"
jump 415 lessThan *tmp80 2
write @ore-titanium processor2 ".nextBlock"
ubind @flare
read :blocksBuildTitaniumDrills:current processor3 ".locations"
write .coreX processor3 ":findDrillLocation:x"
write .coreY processor3 ":findDrillLocation:y"
write @unit processor3 ":findDrillLocation:unit"
write @titanium processor3 ":findDrillLocation:item"
write @ore-titanium processor3 ":findDrillLocation:ore"
write 4 processor3 ":findDrillLocation:size"
write 1000000000 processor3 ":findDrillLocation:limit"
write false processor3 ":findDrillLocation*finished"
write 1 processor3 "@counter"
ubind .builder
write :blocksBuildTitaniumDrills:current processor5 ":buildTitaniumDrills:current"
write false processor5 ":buildTitaniumDrills*finished"
write 5 processor5 "@counter"
wait 1e-15
read *tmp242 processor5 ":buildTitaniumDrills*finished"
jump 438 equal *tmp242 false
write false processor3 ":stopLocation*finished"
write 3 processor3 "@counter"
write null processor2 ".nextBlock"
write 10 processor5 ".graphiteSurplus"
write 50 processor5 ".metaglassSurplus"
write @ore-thorium processor2 ".nextBlock"
write .coreX processor3 ":layoutThoriumDrill:x"
write .coreY processor3 ":layoutThoriumDrill:y"
write @unit processor3 ":layoutThoriumDrill:unit"
write 7 processor3 ":layoutThoriumDrill:limit"
write false processor3 ":layoutThoriumDrill*finished"
write 2 processor3 "@counter"
wait 1e-15
read *tmp247 processor3 ":layoutThoriumDrill*finished"
jump 453 equal *tmp247 false
write "AJJJ~-laser-drill52" processor5 ":meetTargetCfg:cfg"
write false processor5 ":meetTargetCfg:forBuild"
write false processor5 ":meetTargetCfg*finished"
write 7 processor5 "@counter"
wait 1e-15
read *tmp251 processor5 ":meetTargetCfg*finished"
jump 460 equal *tmp251 false
wait 1e-15
read *tmp252 processor3 ":layoutThoriumDrill*finished"
jump 463 equal *tmp252 false
write @laser-drill processor5 ":buildBlockAt:block"
read *tmp53 processor3 ".drillX"
write *tmp53 processor5 ":buildBlockAt:x"
read *tmp54 processor3 ".drillY"
write *tmp54 processor5 ":buildBlockAt:y"
write null processor5 ":buildBlockAt:rotation"
write 0 processor5 ":buildBlockAt:config"
write -1 processor5 ":buildBlockAt:index"
write false processor5 ":buildBlockAt*finished"
write 1 processor5 "@counter"
wait 1e-15
read *tmp262 processor5 ":buildBlockAt*finished"
jump 476 equal *tmp262 false
read .thoriumDrill processor5 ":buildBlockAt*retval"
read :buildRemoteBlockLocal:x processor3 ".water1X"
read :buildRemoteBlockLocal:y processor3 ".water1Y"
write "A¡ASJ\-water-extractor18" processor5 ":buildRemoteBlock:cfg"
write :buildRemoteBlockLocal:x processor5 ":buildRemoteBlock:x"
write :buildRemoteBlockLocal:y processor5 ":buildRemoteBlock:y"
write false processor5 ":buildRemoteBlock*finished"
write 4 processor5 "@counter"
wait 1e-15
read *tmp298 processor5 ":buildRemoteBlock*finished"
jump 487 equal *tmp298 false
read :buildRemoteBlockLocal:x processor3 ".water2X"
read :buildRemoteBlockLocal:y processor3 ".water2Y"
write "A¡ASJ\-water-extractor18" processor5 ":buildRemoteBlock:cfg"
write :buildRemoteBlockLocal:x processor5 ":buildRemoteBlock:x"
write :buildRemoteBlockLocal:y processor5 ":buildRemoteBlock:y"
write false processor5 ":buildRemoteBlock*finished"
write 4 processor5 "@counter"
wait 1e-15
read *tmp298 processor5 ":buildRemoteBlock*finished"
jump 497 equal *tmp298 false
read :buildRemoteBlockLocal:x processor3 ".generatorX"
read :buildRemoteBlockLocal:y processor3 ".generatorY"
write "AAKJ]-steam-generator19" processor5 ":buildRemoteBlock:cfg"
write :buildRemoteBlockLocal:x processor5 ":buildRemoteBlock:x"
write :buildRemoteBlockLocal:y processor5 ":buildRemoteBlock:y"
write false processor5 ":buildRemoteBlock*finished"
write 4 processor5 "@counter"
wait 1e-15
read *tmp298 processor5 ":buildRemoteBlock*finished"
jump 507 equal *tmp298 false
read .thoriumGenerator processor5 ":buildRemoteBlock*retval"
read :buildRemoteBlockLocal:x processor3 ".node1X"
read :buildRemoteBlockLocal:y processor3 ".node1Y"
write "AFHJT-power-node10" processor5 ":buildRemoteBlock:cfg"
write :buildRemoteBlockLocal:x processor5 ":buildRemoteBlock:x"
write :buildRemoteBlockLocal:y processor5 ":buildRemoteBlock:y"
write false processor5 ":buildRemoteBlock*finished"
write 4 processor5 "@counter"
wait 1e-15
read *tmp298 processor5 ":buildRemoteBlock*finished"
jump 518 equal *tmp298 false
read :buildRemoteBlockLocal:x processor3 ".node2X"
read :buildRemoteBlockLocal:y processor3 ".node2Y"
write "AFHJT-power-node10" processor5 ":buildRemoteBlock:cfg"
write :buildRemoteBlockLocal:x processor5 ":buildRemoteBlock:x"
write :buildRemoteBlockLocal:y processor5 ":buildRemoteBlock:y"
write false processor5 ":buildRemoteBlock*finished"
write 4 processor5 "@counter"
wait 1e-15
read *tmp298 processor5 ":buildRemoteBlock*finished"
jump 528 equal *tmp298 false
read :buildRemoteBlockLocal:x processor3 ".panelX"
read :buildRemoteBlockLocal:y processor3 ".panelY"
write "AJJJ~-solar-panel52" processor5 ":buildRemoteBlock:cfg"
write :buildRemoteBlockLocal:x processor5 ":buildRemoteBlock:x"
write :buildRemoteBlockLocal:y processor5 ":buildRemoteBlock:y"
write false processor5 ":buildRemoteBlock*finished"
write 4 processor5 "@counter"
wait 1e-15
read *tmp298 processor5 ":buildRemoteBlock*finished"
jump 538 equal *tmp298 false
read :buildRemoteBlockLocal:x processor3 ".batteryX"
read :buildRemoteBlockLocal:y processor3 ".batteryY"
write "AJTJK-battery1" processor5 ":buildRemoteBlock:cfg"
write :buildRemoteBlockLocal:x processor5 ":buildRemoteBlock:x"
write :buildRemoteBlockLocal:y processor5 ":buildRemoteBlock:y"
write false processor5 ":buildRemoteBlock*finished"
write 4 processor5 "@counter"
wait 1e-15
read *tmp298 processor5 ":buildRemoteBlock*finished"
jump 548 equal *tmp298 false
read .thoriumBattery processor5 ":buildRemoteBlock*retval"
read :buildRemoteBlockLocal:x processor3 ".containerX"
read :buildRemoteBlockLocal:y processor3 ".containerY"
write "A¨JJJ~-container52" processor5 ":buildRemoteBlock:cfg"
write :buildRemoteBlockLocal:x processor5 ":buildRemoteBlock:x"
write :buildRemoteBlockLocal:y processor5 ":buildRemoteBlock:y"
write false processor5 ":buildRemoteBlock*finished"
write 4 processor5 "@counter"
wait 1e-15
read *tmp298 processor5 ":buildRemoteBlock*finished"
jump 559 equal *tmp298 false
read :buildRemoteBlockLocal*retval processor5 ":buildRemoteBlock*retval"
select .thoriumContainer equal :buildRemoteBlockLocal*retval null .thoriumDrill :buildRemoteBlockLocal*retval
write .thoriumDrill processor2 ".thoriumDrill"
write .thoriumContainer processor2 ".thoriumContainer"
write .thoriumBattery processor5 ".thoriumBattery"
write .thoriumContainer processor5 ".thoriumContainer"
write .thoriumGenerator processor5 ".thoriumGenerator"
write .thoriumContainer processor6 ":setThoriumContainer:container"
write false processor6 ":setThoriumContainer*finished"
write 2 processor6 "@counter"
wait 1e-15
read *tmp275 processor6 ":setThoriumContainer*finished"
jump 572 equal *tmp275 false
write null processor2 ".nextBlock"
read *tmp82 AÕFFJS-micro-processor9 ".polys"
jump 585 greaterThanEq *tmp82 3
write false processor5 ":supplyBase*finished"
write 8 processor5 "@counter"
wait 1e-15
read *tmp277 processor5 ":supplyBase*finished"
jump 580 equal *tmp277 false
read *tmp82 AÕFFJS-micro-processor9 ".polys"
jump 578 lessThan *tmp82 3
op add :setMonoTarget.2:target 4 .scrap
write :setMonoTarget.2:target AÕFFJS-micro-processor9 ".monoTarget"
write 3209 AÕFFJS-micro-processor9 ".powerTarget"
write 120 processor5 ".siliconMonoSurplus"
write 0 processor5 ".leadSurplus"
write "AÁNBJc-multiplicative-reconstructor25" processor5 ":buildBlockFromCfg:cfg"
write null processor5 ":buildBlockFromCfg:config"
write false processor5 ":buildBlockFromCfg*finished"
write 2 processor5 "@counter"
wait 1e-15
read *tmp302 processor5 ":buildBlockFromCfg*finished"
jump 594 equal *tmp302 false
write 10 processor5 ".metaglassSurplus"
write 0 AÕFFJS-micro-processor9 ".polyTarget"
write 0 AÕFFJS-micro-processor9 ".flareTarget"
write 1 AÕFFJS-micro-processor9 ".megaTarget"
write 0 processor5 ":meetTarget:block"
write 0 processor5 ":meetTarget:copper"
write 0 processor5 ":meetTarget:lead"
write 0 processor5 ":meetTarget:graphite"
write 0 processor5 ":meetTarget:silicon"
write 0 processor5 ":meetTarget:titanium"
write 0 processor5 ":meetTarget:metaglass"
write 0 processor5 ":meetTarget:thorium"
write false processor5 ":meetTarget:forBuild"
write true processor5 ":meetTarget:isNoTarget"
write false processor5 ":meetTarget*finished"
write 6 processor5 "@counter"
wait 1e-15
read *tmp314 processor5 ":meetTarget*finished"
jump 613 equal *tmp314 false
write 0 processor2 ".totalTargets"
write null processor2 ".nextBlock"
write 0 AÕFFJS-micro-processor9 ".siliconReserve"
write 0 AÕFFJS-micro-processor9 ".graphiteReserve"
read *tmp82 AÕFFJS-micro-processor9 ".polys"
op sub :tmp *tmp82 1
write :tmp AÕFFJS-micro-processor9 ".polyTarget"
write :tmp AÕFFJS-micro-processor9 ".polys"
write :tmp processor2 ".polys"
sensor :x AÁNBJc-multiplicative-reconstructor25 @x
sensor :y AÁNBJc-multiplicative-reconstructor25 @y
ucontrol move :x :y 0 0 0
ucontrol payEnter 0 0 0 0 0
read *tmp83 AÕFFJS-micro-processor9 ".megas"
jump 627 equal *tmp83 false
write true AÕFFJS-micro-processor9 ".finished"
control enabled processor1 false 0 0 0
control enabled processor8 false 0 0 0
control enabled processor7 false 0 0 0
control enabled processor6 false 0 0 0
control enabled processor3 false 0 0 0
control enabled processor5 false 0 0 0
control enabled processor11 false 0 0 0
ubind @mega
set :flagUnits:firstUnit @unit
jump 639 equal :flagUnits:firstUnit null
op add :flagUnits:x .coreX 8
ucontrol flag :flagUnits:x 0 0 0 0
op add :flagUnits:x :flagUnits:x 4
ubind @mega
jump 643 notEqual @unit :flagUnits:firstUnit
ubind @poly
set :flagUnits:firstUnit @unit
jump 647 equal :flagUnits:firstUnit null
op add :flagUnits:x .coreX 8
ucontrol flag :flagUnits:x 0 0 0 0
op add :flagUnits:x :flagUnits:x 4
ubind @poly
jump 651 notEqual @unit :flagUnits:firstUnit
ubind @mono
set :flagUnits:firstUnit @unit
jump 655 equal :flagUnits:firstUnit null
op add :flagUnits:x .coreX 8
ucontrol flag :flagUnits:x 0 0 0 0
op add :flagUnits:x :flagUnits:x 4
ubind @mono
jump 659 notEqual @unit :flagUnits:firstUnit
ubind @flare
set :flagUnits:firstUnit @unit
jump 663 equal :flagUnits:firstUnit null
op add :flagUnits:x .coreX 8
ucontrol flag :flagUnits:x 0 0 0 0
op add :flagUnits:x :flagUnits:x 4
ubind @flare
jump 667 notEqual @unit :flagUnits:firstUnit
op add :lineUpUnits:y .coreY 6
ubind @mega
set :lineUpUnits:firstUnit @unit
sensor :lineUpUnits:x @unit @flag
ucontrol itemDrop @air 1000 0 0 0
ucontrol move :lineUpUnits:x :lineUpUnits:y 0 0 0
sensor *tmp320 @unit @mining
jump 680 equal *tmp320 false
ucontrol stop 0 0 0 0 0
ubind @mega
jump 674 notEqual @unit :lineUpUnits:firstUnit
op add :lineUpUnits:y .coreY 2
ubind @poly
set :lineUpUnits:firstUnit @unit
sensor :lineUpUnits:x @unit @flag
ucontrol itemDrop @air 1000 0 0 0
ucontrol move :lineUpUnits:x :lineUpUnits:y 0 0 0
sensor *tmp320 @unit @mining
jump 691 equal *tmp320 false
ucontrol stop 0 0 0 0 0
ubind @poly
jump 685 notEqual @unit :lineUpUnits:firstUnit
op sub :lineUpUnits:y .coreY 2
ubind @mono
set :lineUpUnits:firstUnit @unit
sensor :lineUpUnits:x @unit @flag
ucontrol itemDrop @air 1000 0 0 0
ucontrol move :lineUpUnits:x :lineUpUnits:y 0 0 0
sensor *tmp320 @unit @mining
jump 702 equal *tmp320 false
ucontrol stop 0 0 0 0 0
ubind @mono
jump 696 notEqual @unit :lineUpUnits:firstUnit
op sub :lineUpUnits:y .coreY 6
ubind @flare
set :lineUpUnits:firstUnit @unit
sensor :lineUpUnits:x @unit @flag
ucontrol itemDrop @air 1000 0 0 0
ucontrol move :lineUpUnits:x :lineUpUnits:y 0 0 0
sensor *tmp320 @unit @mining
jump 713 equal *tmp320 false
ucontrol stop 0 0 0 0 0
ubind @flare
jump 707 notEqual @unit :lineUpUnits:firstUnit
jump 671 always 0 0
draw triangle AJEMJJ-graphite-press0 ALTJL-battery2 AJRJM-combustion-generator3 ALMQJN-silicon-smelter4 A{LNJO-inverted-sorter5 A©JNJP-unloader6
draw triangle A{HNJQ-inverted-sorter7 AJPJR-underflow-gate8 AFHJT-power-node10 A©FJJU-unloader11 A~DJJV-overflow-gate12 A¾BFLW-air-factory13
draw triangle A©NHJX-unloader14 A{NJJY-inverted-sorter15 ANOMJZ-kiln16 AÜAOJ[-liquid-container17 A¡ASJ\-water-extractor18 AAKJ]-steam-generator19
draw triangle ALQIJ^-silicon-smelter20 AKFRJ_-multi-press21 A©HFJ`-unloader22 A{HDJa-inverted-sorter23 AÀF@Lb-additive-reconstructor24 AXPRJd-pulverizer26
draw triangle A~PPJe-overflow-gate27 APTJf-power-node28 A©RPJg-unloader29 A¨SSJh-container30 AXTPJi-pulverizer31 A~RNJj-overflow-gate32
draw triangle A~RLJk-overflow-gate33 AXTNJl-pulverizer34 AXTLJm-pulverizer35 0 0 0
print "Compiled by Mindcode - github.com/cardillan/mindcode"
jump 9 always 0 0
jump 731 always 0 0
jump 704 always 0 0
jump 778 always 0 0
jump 679 always 0 0
jump 892 always 0 0
jump 565 always 0 0
jump 636 always 0 0
jump 237 always 0 0
read *tmp32 processor2 "*signature"
jump 9 notEqual *tmp32 "0:v1"
read *tmp71 processor3 "*signature"
jump 11 notEqual *tmp71 "2b365030e19b2b7f:v1"
read *tmp93 processor8 "*signature"
jump 13 notEqual *tmp93 "880295ee1d8ade1d:v1"
read *tmp99 processor7 "*signature"
jump 15 notEqual *tmp99 "0:v1"
set .leadSurplus 0
set .graphiteSurplus 20
set .siliconSurplus 20
set .siliconMonoSurplus 0
set .metaglassSurplus 20
write 511 bank1 511
set .positive 0
set .negative 0
set .MAX_TILES 10
set .MAX_COUNT 6
ubind @poly
set .builder @unit
ulocate building core false @copper .coreX .coreY 0 .core
jump 27 equal .core null
set .sandContainer .core
set *signature "68e0262eef69ac6b:v1"
wait 1e12
jump 33 always 0 0
op min :mineOre:amount :mineOre:amount 28
write :mineOre:amount processor2 ".transportTarget"
write :mineOre:ore processor2 ".transportItem"
ulocate ore core true :mineOre:ore :locateOre:x :locateOre:y 0 0
write "Moving..." processor2 ".status3"
sensor *tmp108 @unit @firstItem
jump 43 equal *tmp108 null
ucontrol itemDrop @air 1000 0 0 0
ucontrol approach :locateOre:x :locateOre:y 5.5 0 0
ucontrol within :locateOre:x :locateOre:y 6 *tmp111 0
jump 40 equal *tmp111 false
sensor *tmp132 @unit @firstItem
jump 53 equal *tmp132 :mineOre:ore
sensor *tmp113 @unit @firstItem
jump 53 equal *tmp113 null
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp113 @unit @firstItem
jump 50 notEqual *tmp113 null
write "Mining..." processor2 ".status3"
op add :mineOre:stop @second 10
sensor :mineOre:item @unit @firstItem
op notEqual *tmp137 :mineOre:item null
op notEqual *tmp138 :mineOre:item :mineOre:ore
op land *tmp139 *tmp137 *tmp138
jump 102 notEqual *tmp139 false
ucontrol mine :locateOre:x :locateOre:y 0 0 0
jump 102 greaterThan @second :mineOre:stop
jump 100 notEqual .noTarget false
sensor *tmp300 .core @silicon
jump 68 greaterThanEq *tmp300 silicon
write @silicon processor2 ".missing"
set :targetMet*retval false
jump 99 always 0 0
sensor *tmp303 .core @copper
jump 73 greaterThanEq *tmp303 copper
write @copper processor2 ".missing"
set :targetMet*retval false
jump 99 always 0 0
sensor *tmp306 .core @lead
jump 78 greaterThanEq *tmp306 lead
write @lead processor2 ".missing"
set :targetMet*retval false
jump 99 always 0 0
sensor *tmp309 .core @metaglass
jump 83 greaterThanEq *tmp309 metaglass
write @metaglass processor2 ".missing"
set :targetMet*retval false
jump 99 always 0 0
sensor *tmp312 .core @graphite
jump 88 greaterThanEq *tmp312 graphite
write @graphite processor2 ".missing"
set :targetMet*retval false
jump 99 always 0 0
sensor *tmp315 .core @titanium
jump 93 greaterThanEq *tmp315 titanium
write @titanium processor2 ".missing"
set :targetMet*retval false
jump 99 always 0 0
sensor *tmp318 .core @thorium
jump 98 greaterThanEq *tmp318 thorium
write @thorium processor2 ".missing"
set :targetMet*retval false
jump 99 always 0 0
set :targetMet*retval true
jump 102 notEqual :targetMet*retval false
sensor *tmp146 @unit @totalItems
jump 55 lessThan *tmp146 :mineOre:amount
ucontrol unbind 0 0 0 0 0
write "Depositing..." processor2 ".status3"
sensor *tmp117 @unit @firstItem
jump 121 notEqual *tmp117 :mineOre:ore
sensor *tmp115 :mineOre:block @x
sensor *tmp116 :mineOre:block @y
write "Moving..." processor2 ".status3"
ucontrol within *tmp115 *tmp116 6 *tmp105 0
jump 114 notEqual *tmp105 false
ucontrol approach *tmp115 *tmp116 5.5 0 0
ucontrol within *tmp115 *tmp116 6 *tmp105 0
jump 111 equal *tmp105 false
sensor :depositItems:cap :mineOre:block @itemCapacity
ucontrol itemDrop :mineOre:block 28 0 0 0
sensor *tmp121 @unit @firstItem
op mul *tmp122 *tmp121 :depositItems:cap
sensor *tmp123 :mineOre:block :mineOre:ore
jump 115 greaterThan *tmp122 *tmp123
jump 126 always 0 0
sensor *tmp125 @unit @firstItem
jump 126 equal *tmp125 null
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp125 @unit @firstItem
jump 123 notEqual *tmp125 null
write 0 processor2 ".transportTarget"
write null processor2 ".transportItem"
set @counter :mineOre*retaddr
write "Mining " processor2 ".status2"
write :mineOre.1:ore processor2 ".item2"
write :mineOre.1:block processor2 ".block2"
set :mineOre:ore :mineOre.1:ore
set :mineOre:amount 28
set :mineOre:block :mineOre.1:block
set :mineOre*retaddr 137
jump 35 always 0 0
set @counter :mineOre.1*retaddr
write "Mining " processor2 ".status2"
write :mineOre.2:ore processor2 ".item2"
write "core" processor2 ".block2"
set :mineOre:ore :mineOre.2:ore
set :mineOre:amount 28
set :mineOre:block .core
set :mineOre*retaddr 146
jump 35 always 0 0
set @counter :mineOre.2*retaddr
sensor *tmp151 :fetchBlock:block @itemCapacity
op min :transportStatus:target *tmp151 28
write :transportStatus:target processor2 ".transportTarget"
write :fetchBlock:item processor2 ".transportItem"
write "Fetching " processor2 ".status2"
write :fetchBlock:item processor2 ".item2"
write :fetchBlock:block processor2 ".block2"
sensor *tmp153 :fetchBlock:block @x
sensor *tmp154 :fetchBlock:block @y
write "Moving..." processor2 ".status3"
sensor *tmp108 @unit @firstItem
jump 160 equal *tmp108 null
ucontrol itemDrop @air 1000 0 0 0
ucontrol approach *tmp153 *tmp154 5.5 0 0
ucontrol within *tmp153 *tmp154 6 *tmp111 0
jump 157 equal *tmp111 false
sensor *tmp113 @unit @firstItem
jump 168 equal *tmp113 null
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp113 @unit @firstItem
jump 165 notEqual *tmp113 null
ucontrol itemTake :fetchBlock:block :fetchBlock:item 28 0 0
sensor :fetchBlock:unitItem @unit @firstItem
jump 173 equal :fetchBlock:unitItem null
jump 173 equal :fetchBlock:unitItem :fetchBlock:item
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp159 @unit :fetchBlock:item
jump 177 greaterThanEq *tmp159 28
sensor *tmp161 :fetchBlock:block :fetchBlock:item
jump 168 notEqual *tmp161 false
write "Depositing..." processor2 ".status3"
sensor *tmp117 @unit @firstItem
jump 195 notEqual *tmp117 :fetchBlock:item
sensor *tmp115 .core @x
sensor *tmp116 .core @y
write "Moving..." processor2 ".status3"
ucontrol within *tmp115 *tmp116 6 *tmp105 0
jump 188 notEqual *tmp105 false
ucontrol approach *tmp115 *tmp116 5.5 0 0
ucontrol within *tmp115 *tmp116 6 *tmp105 0
jump 185 equal *tmp105 false
sensor :depositItems:cap .core @itemCapacity
ucontrol itemDrop .core 28 0 0 0
sensor *tmp121 @unit @firstItem
op mul *tmp122 *tmp121 :depositItems:cap
sensor *tmp123 .core :fetchBlock:item
jump 189 greaterThan *tmp122 *tmp123
jump 200 always 0 0
sensor *tmp125 @unit @firstItem
jump 200 equal *tmp125 null
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp125 @unit @firstItem
jump 197 notEqual *tmp125 null
write 0 processor2 ".transportTarget"
write null processor2 ".transportItem"
set @counter :fetchBlock*retaddr
write "Supplying " processor2 ".status2"
write :supplyBlock:ore processor2 ".item2"
write :supplyBlock:block processor2 ".block2"
sensor :supplyBlock:blockCapacity :supplyBlock:block @itemCapacity
sensor *tmp163 :supplyBlock:block :supplyBlock:ore
op sub :supplyBlock:missing :supplyBlock:blockCapacity *tmp163
jump 215 lessThanEq :supplyBlock:missing 0
set :mineOre:ore :supplyBlock:ore
set :mineOre:amount :supplyBlock:blockCapacity
set :mineOre:block :supplyBlock:block
set :mineOre*retaddr 215
jump 35 always 0 0
set @counter :supplyBlock*retaddr
read *tmp177 :unpackCfg:cfg 1
op sub *tmp178 *tmp177 74
lookup block :unpackCfg:type *tmp178
read *tmp181 :unpackCfg:cfg 2
op sub *tmp182 *tmp181 74
op div :unpackCfg:x *tmp182 2
read *tmp185 :unpackCfg:cfg 3
op sub *tmp186 *tmp185 74
op div :unpackCfg:y *tmp186 2
read *tmp189 :unpackCfg:cfg 4
op sub :unpackCfg:rotation *tmp189 74
read *tmp192 :unpackCfg:cfg 5
op sub :unpackCfg:ind *tmp192 74
sensor :unpackCfg:cu :unpackCfg:type @copper
sensor :unpackCfg:pb :unpackCfg:type @lead
sensor :unpackCfg:gr :unpackCfg:type @graphite
sensor :unpackCfg:si :unpackCfg:type @silicon
sensor :unpackCfg:ti :unpackCfg:type @titanium
sensor :unpackCfg:mg :unpackCfg:type @metaglass
sensor :unpackCfg:th :unpackCfg:type @thorium
set @counter :unpackCfg*retaddr
set :supplyBase*retaddr 33
op add *tmp202 .siliconMonoSurplus silicon
sensor *tmp203 .core @silicon
op sub *tmp204 *tmp202 *tmp203
op max *tmp205 0 *tmp204
write *tmp205 processor7 ".sandTarget"
jump 330 equal .thoriumContainer false
write "Phase 2: servicing thorium drill" processor2 ".status1"
sensor *tmp207 .thoriumBattery @totalPower
jump 321 greaterThanEq *tmp207 2000
sensor *tmp210 .thoriumGenerator @coal
jump 321 notEqual *tmp210 0
sensor *tmp213 .core @coal
jump 266 greaterThanEq *tmp213 50
set :supplyBlock:block .thoriumGenerator
set :supplyBlock:ore @coal
write "Supplying " processor2 ".status2"
write @coal processor2 ".item2"
write :supplyBlock:block processor2 ".block2"
sensor :supplyBlock:blockCapacity :supplyBlock:block @itemCapacity
sensor *tmp163 :supplyBlock:block @coal
op sub :supplyBlock:missing :supplyBlock:blockCapacity *tmp163
jump 321 lessThanEq :supplyBlock:missing 0
set :mineOre:ore @coal
set :mineOre:amount :supplyBlock:blockCapacity
set :mineOre:block :supplyBlock:block
set :mineOre*retaddr 321
jump 35 always 0 0
jump 321 always 0 0
set :supplyBlockFromCore:target .thoriumGenerator
sensor *tmp167 :supplyBlockFromCore:target @itemCapacity
op min :supplyBlockFromCore:cap *tmp167 28
set :transportStatus:target :supplyBlockFromCore:cap
write :supplyBlockFromCore:cap processor2 ".transportTarget"
write @coal processor2 ".transportItem"
write "Transferring " processor2 ".status2"
write @coal processor2 ".item2"
write :supplyBlockFromCore:target processor2 ".block2"
write "Moving..." processor2 ".status3"
sensor *tmp108 @unit @firstItem
jump 279 equal *tmp108 null
ucontrol itemDrop @air 1000 0 0 0
ucontrol approach .coreX .coreY 5.5 0 0
ucontrol within .coreX .coreY 6 *tmp111 0
jump 276 equal *tmp111 false
sensor *tmp113 @unit @firstItem
jump 287 equal *tmp113 null
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp113 @unit @firstItem
jump 284 notEqual *tmp113 null
ucontrol itemTake .core @coal :supplyBlockFromCore:cap 0 0
sensor :supplyBlockFromCore:unitItem @unit @firstItem
jump 292 equal :supplyBlockFromCore:unitItem null
jump 292 equal :supplyBlockFromCore:unitItem @coal
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp173 @unit @coal
jump 296 greaterThanEq *tmp173 :supplyBlockFromCore:cap
sensor *tmp175 .core @coal
jump 287 notEqual *tmp175 false
write "Depositing..." processor2 ".status3"
sensor *tmp117 @unit @firstItem
jump 314 notEqual *tmp117 @coal
sensor *tmp115 :supplyBlockFromCore:target @x
sensor *tmp116 :supplyBlockFromCore:target @y
write "Moving..." processor2 ".status3"
ucontrol within *tmp115 *tmp116 6 *tmp105 0
jump 307 notEqual *tmp105 false
ucontrol approach *tmp115 *tmp116 5.5 0 0
ucontrol within *tmp115 *tmp116 6 *tmp105 0
jump 304 equal *tmp105 false
sensor :depositItems:cap :supplyBlockFromCore:target @itemCapacity
ucontrol itemDrop :supplyBlockFromCore:target 28 0 0 0
sensor *tmp121 @unit @firstItem
op mul *tmp122 *tmp121 :depositItems:cap
sensor *tmp123 :supplyBlockFromCore:target @coal
jump 308 greaterThan *tmp122 *tmp123
jump 319 always 0 0
sensor *tmp125 @unit @firstItem
jump 319 equal *tmp125 null
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp125 @unit @firstItem
jump 316 notEqual *tmp125 null
write 0 processor2 ".transportTarget"
write null processor2 ".transportItem"
set :fetchBlock:block .thoriumContainer
set :fetchBlock:item @thorium
set :fetchBlock*retaddr 325
jump 147 always 0 0
sensor *tmp216 .core @thorium
jump 526 lessThanEq *tmp216 400
write 0 AÕFFJS-micro-processor9 ".monoTarget"
write 4 AÕFFJS-micro-processor9 ".polyTarget"
jump 526 always 0 0
read *tmp81 AÕFFJS-micro-processor9 ".monos"
jump 343 lessThanEq *tmp81 1
write "Phase 1: supplying base" processor2 ".status1"
set :mineOre.2:ore @coal
write "Mining " processor2 ".status2"
write @coal processor2 ".item2"
write "core" processor2 ".block2"
set :mineOre:ore @coal
set :mineOre:amount 28
set :mineOre:block .core
set :mineOre*retaddr 526
jump 35 always 0 0
jump 526 always 0 0
set :supplyBase0:supplied false
jump 414 notEqual A©JNJP-unloader6 null
sensor *tmp223 .core @graphite
jump 365 greaterThanEq *tmp223 graphite
sensor *tmp226 AJEMJJ-graphite-press0 @coal
jump 365 greaterThanEq *tmp226 5
write "Goal 1: graphite requirement" processor2 ".status1"
set :supplyBlock:block AJEMJJ-graphite-press0
set :supplyBlock:ore @coal
write "Supplying " processor2 ".status2"
write @coal processor2 ".item2"
write :supplyBlock:block processor2 ".block2"
sensor :supplyBlock:blockCapacity :supplyBlock:block @itemCapacity
sensor *tmp163 :supplyBlock:block @coal
op sub :supplyBlock:missing :supplyBlock:blockCapacity *tmp163
jump 364 lessThanEq :supplyBlock:missing 0
set :mineOre:ore @coal
set :mineOre:amount :supplyBlock:blockCapacity
set :mineOre:block :supplyBlock:block
set :mineOre*retaddr 364
jump 35 always 0 0
set :supplyBase0:supplied true
sensor *tmp229 AJTJK-battery1 @totalPower
jump 385 greaterThanEq *tmp229 .powerTarget
sensor *tmp232 AJRJM-combustion-generator3 @coal
jump 385 greaterThanEq *tmp232 2
write "Goal 4: supplying generator" processor2 ".status1"
set :supplyBlock:block AJRJM-combustion-generator3
set :supplyBlock:ore @coal
write "Supplying " processor2 ".status2"
write @coal processor2 ".item2"
write :supplyBlock:block processor2 ".block2"
sensor :supplyBlock:blockCapacity :supplyBlock:block @itemCapacity
sensor *tmp163 :supplyBlock:block @coal
op sub :supplyBlock:missing :supplyBlock:blockCapacity *tmp163
jump 526 lessThanEq :supplyBlock:missing 0
set :mineOre:ore @coal
set :mineOre:amount :supplyBlock:blockCapacity
set :mineOre:block :supplyBlock:block
set :mineOre*retaddr 526
jump 35 always 0 0
jump 526 always 0 0
sensor *tmp235 .core @silicon
jump 414 greaterThanEq *tmp235 silicon
sensor *tmp238 ALMQJN-silicon-smelter4 @coal
jump 396 greaterThanEq *tmp238 5
write "Goal 2: coal for silicon requirement" processor2 ".status1"
set :supplyBlock:block ALMQJN-silicon-smelter4
set :supplyBlock:ore @coal
set :supplyBlock*retaddr 394
jump 203 always 0 0
set :supplyBase0:supplied true
jump 414 always 0 0
sensor *tmp241 ALMQJN-silicon-smelter4 @sand
jump 414 greaterThanEq *tmp241 5
jump 408 equal .scrap false
sensor *tmp245 AXPRJd-pulverizer26 @scrap
jump 414 greaterThanEq *tmp245 10
write "Goal 3a: scrap for silicon requirement" processor2 ".status1"
set :supplyBlock:block AXPRJd-pulverizer26
set :supplyBlock:ore @scrap
set :supplyBlock*retaddr 406
jump 203 always 0 0
set :supplyBase0:supplied true
jump 414 always 0 0
write "Goal 3: sand for silicon requirement" processor2 ".status1"
set :supplyBlock:block ALMQJN-silicon-smelter4
set :supplyBlock:ore @sand
set :supplyBlock*retaddr 413
jump 203 always 0 0
set :supplyBase0:supplied true
set *tmp250 100
sensor *tmp248 .core @titanium
jump 420 greaterThanEq *tmp248 titanium
sensor *tmp251 .core @titanium
op sub *tmp252 titanium *tmp251
op min *tmp250 5 *tmp252
sensor *tmp254 .titaniumDrill @titanium
jump 521 greaterThanEq *tmp254 *tmp250
jump 526 notEqual :supplyBase0:supplied false
sensor *tmp259 AJTJK-battery1 @totalPower
op mul *tmp260 A©JNJP-unloader6 .powerTarget
jump 437 greaterThanEq *tmp259 *tmp260
write "Goal 5: supplying generator" processor2 ".status1"
set :mineOre.2:ore @coal
write "Mining " processor2 ".status2"
write @coal processor2 ".item2"
write "core" processor2 ".block2"
set :mineOre:ore @coal
set :mineOre:amount 28
set :mineOre:block .core
set :mineOre*retaddr 526
jump 35 always 0 0
jump 526 always 0 0
sensor *tmp263 .core @silicon
jump 469 greaterThanEq *tmp263 silicon
jump 455 equal .scrap false
write "Goal 6: silicon requirement" processor2 ".status1"
jump 451 equal A¨SSJh-container30 false
sensor :supplyBase0:coal .core @coal
sensor :supplyBase0:sand A¨SSJh-container30 @sand
select *tmp271 lessThan :supplyBase0:coal :supplyBase0:sand @coal @scrap
select *tmp273 lessThan :supplyBase0:coal :supplyBase0:sand .core A¨SSJh-container30
set :mineOre.1:ore *tmp271
set :mineOre.1:block *tmp273
set :mineOre.1*retaddr 526
jump 129 always 0 0
jump 526 always 0 0
set :mineOre.2:ore @coal
set :mineOre.2*retaddr 526
jump 138 always 0 0
jump 526 always 0 0
write "Goal 6: silicon requirement" processor2 ".status1"
sensor :supplyBase0:coal.1 .core @coal
sensor :supplyBase0:sand.1 .core @sand
select *tmp277 lessThan :supplyBase0:coal.1 :supplyBase0:sand.1 @coal @sand
set :mineOre.2:ore *tmp277
write "Mining " processor2 ".status2"
write *tmp277 processor2 ".item2"
write "core" processor2 ".block2"
set :mineOre:ore *tmp277
set :mineOre:amount 28
set :mineOre:block .core
set :mineOre*retaddr 526
jump 35 always 0 0
jump 526 always 0 0
sensor *tmp278 .core @copper
jump 476 greaterThanEq *tmp278 copper
write "Goal 7: copper requirement" processor2 ".status1"
set :mineOre.2:ore @copper
set :mineOre.2*retaddr 526
jump 138 always 0 0
jump 526 always 0 0
sensor *tmp281 .core @lead
jump 483 greaterThanEq *tmp281 lead
write "Goal 8: lead requirement" processor2 ".status1"
set :mineOre.2:ore @lead
set :mineOre.2*retaddr 526
jump 138 always 0 0
jump 526 always 0 0
sensor *tmp284 .core @metaglass
jump 496 greaterThanEq *tmp284 metaglass
write "Goal 9: metaglass requirement" processor2 ".status1"
jump 492 equal .scrap false
set :mineOre.1:ore @scrap
set :mineOre.1:block .sandContainer
set :mineOre.1*retaddr 526
jump 129 always 0 0
jump 526 always 0 0
set :mineOre.2:ore @sand
set :mineOre.2*retaddr 526
jump 138 always 0 0
jump 526 always 0 0
write "Goal 10: supplying base" processor2 ".status1"
jump 507 notEqual A¨SSJh-container30 null
jump 501 equal .scrap false
set :mineOre.2:ore @coal
jump 504 always 0 0
sensor *tmp290 .core @coal
sensor *tmp291 .core @sand
select :mineOre.2:ore greaterThan *tmp290 *tmp291 @sand @coal
set :mineOre.2*retaddr 526
jump 138 always 0 0
jump 526 always 0 0
sensor *tmp294 .core @coal
sensor *tmp295 A¨SSJh-container30 @sand
sensor *tmp296 A¨SSJh-container30 @scrap
op add *tmp297 *tmp295 *tmp296
jump 516 greaterThan *tmp294 *tmp297
set :mineOre.2:ore @coal
set :mineOre.2*retaddr 526
jump 138 always 0 0
jump 526 always 0 0
set :mineOre.1:ore @scrap
set :mineOre.1:block A¨SSJh-container30
set :mineOre.1*retaddr 526
jump 129 always 0 0
jump 526 always 0 0
write "Goal 11: Fetching titanium" processor2 ".status1"
set :fetchBlock:block .titaniumDrill
set :fetchBlock:item @titanium
set :fetchBlock*retaddr 526
jump 147 always 0 0
set :supplyBase*finished true
set @counter :supplyBase*retaddr
sensor *tmp300 .core @silicon
jump 533 greaterThanEq *tmp300 silicon
write @silicon processor2 ".missing"
set :targetMet*retval false
set @counter :targetMet*retaddr
sensor *tmp303 .core @copper
jump 538 greaterThanEq *tmp303 copper
write @copper processor2 ".missing"
set :targetMet*retval false
set @counter :targetMet*retaddr
sensor *tmp306 .core @lead
jump 543 greaterThanEq *tmp306 lead
write @lead processor2 ".missing"
set :targetMet*retval false
set @counter :targetMet*retaddr
sensor *tmp309 .core @metaglass
jump 548 greaterThanEq *tmp309 metaglass
write @metaglass processor2 ".missing"
set :targetMet*retval false
set @counter :targetMet*retaddr
sensor *tmp312 .core @graphite
jump 553 greaterThanEq *tmp312 graphite
write @graphite processor2 ".missing"
set :targetMet*retval false
set @counter :targetMet*retaddr
sensor *tmp315 .core @titanium
jump 558 greaterThanEq *tmp315 titanium
write @titanium processor2 ".missing"
set :targetMet*retval false
set @counter :targetMet*retaddr
sensor *tmp318 .core @thorium
jump 563 greaterThanEq *tmp318 thorium
write @thorium processor2 ".missing"
set :targetMet*retval false
set @counter :targetMet*retaddr
set :targetMet*retval true
set @counter :targetMet*retaddr
set :meetTarget*retaddr 33
op sign :meetTarget:count :meetTarget:copper 0
op sign *tmp322 :meetTarget:lead 0
op add :meetTarget:count :meetTarget:count *tmp322
op sign *tmp322 :meetTarget:graphite 0
op add :meetTarget:count :meetTarget:count *tmp322
op sign *tmp322 :meetTarget:silicon 0
op add :meetTarget:count :meetTarget:count *tmp322
op sign *tmp322 :meetTarget:titanium 0
op add :meetTarget:count :meetTarget:count *tmp322
op sign *tmp322 :meetTarget:metaglass 0
op add :meetTarget:count :meetTarget:count *tmp322
op sign *tmp322 :meetTarget:thorium 0
op add :meetTarget:count :meetTarget:count *tmp322
write :meetTarget:count processor2 ".totalTargets"
write :meetTarget:block processor2 ".nextBlock"
write :meetTarget:copper processor2 ".targetCopper"
write :meetTarget:lead processor2 ".targetLead"
write :meetTarget:graphite processor2 ".targetGraphite"
write :meetTarget:silicon processor2 ".targetSilicon"
write :meetTarget:titanium processor2 ".targetTitanium"
write :meetTarget:metaglass processor2 ".targetMetaglass"
write :meetTarget:thorium processor2 ".targetThorium"
set copper :meetTarget:copper
op add lead :meetTarget:lead .leadSurplus
set graphite :meetTarget:graphite
set silicon :meetTarget:silicon
set titanium :meetTarget:titanium
set metaglass :meetTarget:metaglass
set thorium :meetTarget:thorium
set .noTarget :meetTarget:isNoTarget
op add *tmp324 :meetTarget:graphite .graphiteSurplus
write *tmp324 AÕFFJS-micro-processor9 ".pressTarget"
op add *tmp325 :meetTarget:silicon .siliconSurplus
write *tmp325 AÕFFJS-micro-processor9 ".smelterTarget"
op add *tmp326 :meetTarget:metaglass .metaglassSurplus
write *tmp326 AÕFFJS-micro-processor9 ".kilnTarget"
op sign *tmp327 :meetTarget:silicon 0
op mul *tmp328 *tmp327 20
op add *tmp329 :meetTarget:silicon *tmp328
write *tmp329 AÕFFJS-micro-processor9 ".siliconReserve"
op sign *tmp330 :meetTarget:graphite 0
op mul *tmp331 *tmp330 20
op add *tmp332 :meetTarget:graphite *tmp331
write *tmp332 AÕFFJS-micro-processor9 ".graphiteReserve"
write lead processor7 ".leadTarget"
write :meetTarget:copper processor7 ".copperTarget"
set :targetMet*retaddr 614
jump 528 always 0 0
jump 620 notEqual :targetMet*retval false
set :supplyBase*retaddr 617
jump 238 always 0 0
set :targetMet*retaddr 619
jump 528 always 0 0
jump 615 equal :targetMet*retval false
jump 634 equal :meetTarget:forBuild false
write false AÕFFJS-micro-processor9 ":buildStart*finished"
write 1 AÕFFJS-micro-processor9 "@counter"
wait 1e-15
read *tmp336 AÕFFJS-micro-processor9 ":buildStart*finished"
jump 623 equal *tmp336 false
set :targetMet*retaddr 628
jump 528 always 0 0
jump 634 notEqual :targetMet*retval false
set :supplyBase*retaddr 631
jump 238 always 0 0
set :targetMet*retaddr 633
jump 528 always 0 0
jump 629 equal :targetMet*retval false
set :meetTarget*finished true
set @counter :meetTarget*retaddr
set :meetTargetCfg*retaddr 33
set :unpackCfg:cfg :meetTargetCfg:cfg
set :unpackCfg*retaddr 640
jump 216 always 0 0
set :meetTarget:block :unpackCfg:type
set :meetTarget:copper :unpackCfg:cu
set :meetTarget:lead :unpackCfg:pb
set :meetTarget:graphite :unpackCfg:gr
set :meetTarget:silicon :unpackCfg:si
set :meetTarget:titanium :unpackCfg:ti
set :meetTarget:metaglass :unpackCfg:mg
set :meetTarget:thorium :unpackCfg:th
set :meetTarget:forBuild :meetTargetCfg:forBuild
set :meetTarget:isNoTarget false
set :meetTarget*retaddr 652
jump 566 always 0 0
set :meetTargetCfg*finished true
set @counter :meetTargetCfg*retaddr
op notEqual *tmp339 AÕFFJS-micro-processor9 null
set :meetTarget:block :buildBlock:block
set :meetTarget:copper :buildBlock:copper
set :meetTarget:lead :buildBlock:lead
set :meetTarget:graphite :buildBlock:graphite
set :meetTarget:silicon :buildBlock:silicon
set :meetTarget:titanium :buildBlock:titanium
set :meetTarget:metaglass :buildBlock:metaglass
set :meetTarget:thorium :buildBlock:thorium
set :meetTarget:forBuild *tmp339
set :meetTarget:isNoTarget false
set :meetTarget*retaddr 667
jump 566 always 0 0
set :buildBlockAt:block :buildBlock:block
set :buildBlockAt:x :buildBlock:x
set :buildBlockAt:y :buildBlock:y
set :buildBlockAt:rotation :buildBlock:rotation
set :buildBlockAt:config :buildBlock:config
set :buildBlockAt:index :buildBlock:index
set :buildBlockAt*retaddr 675
jump 732 always 0 0
write false AÕFFJS-micro-processor9 ":buildStop*finished"
write 2 AÕFFJS-micro-processor9 "@counter"
set :buildBlock*retval :buildBlockAt*retval
set @counter :buildBlock*retaddr
op add *tmp340 :buildRemoteBlock:x :buildRemoteBlock:y
jump 701 lessThanEq *tmp340 0
set :unpackCfg:cfg :buildRemoteBlock:cfg
set :unpackCfg*retaddr 684
jump 216 always 0 0
set :buildBlock:block :unpackCfg:type
set :buildBlock:x :buildRemoteBlock:x
set :buildBlock:y :buildRemoteBlock:y
set :buildBlock:copper :unpackCfg:cu
set :buildBlock:lead :unpackCfg:pb
set :buildBlock:graphite :unpackCfg:gr
set :buildBlock:silicon :unpackCfg:si
set :buildBlock:titanium :unpackCfg:ti
set :buildBlock:metaglass :unpackCfg:mg
set :buildBlock:thorium :unpackCfg:th
set :buildBlock:rotation :unpackCfg:rotation
set :buildBlock:config null
set :buildBlock:index :unpackCfg:ind
set :buildBlock*retaddr 699
jump 654 always 0 0
set :buildRemoteBlock*retval :buildBlock*retval
jump 702 always 0 0
set :buildRemoteBlock*retval false
set :buildRemoteBlock*finished true
jump 33 always 0 0
set :unpackCfg:cfg :buildBlockFromCfg:cfg
set :unpackCfg*retaddr 707
jump 216 always 0 0
op add *tmp343 .coreX :unpackCfg:x
op add *tmp344 .coreY :unpackCfg:y
set :buildBlock:block :unpackCfg:type
set :buildBlock:x *tmp343
set :buildBlock:y *tmp344
set :buildBlock:copper :unpackCfg:cu
set :buildBlock:lead :unpackCfg:pb
set :buildBlock:graphite :unpackCfg:gr
set :buildBlock:silicon :unpackCfg:si
set :buildBlock:titanium :unpackCfg:ti
set :buildBlock:metaglass :unpackCfg:mg
set :buildBlock:thorium :unpackCfg:th
set :buildBlock:rotation :unpackCfg:rotation
set :buildBlock:config :buildBlockFromCfg:config
set :buildBlock:index :unpackCfg:ind
set :buildBlock*retaddr 724
jump 654 always 0 0
write :buildBlock*retval @this :buildBlockFromCfg:cfg
write :buildBlock*retval processor2 :buildBlockFromCfg:cfg
write :buildBlock*retval AÕFFJS-micro-processor9 :buildBlockFromCfg:cfg
write :buildBlock*retval processor9 :buildBlockFromCfg:cfg
set :buildBlockFromCfg*retval :buildBlock*retval
set :buildBlockFromCfg*finished true
jump 33 always 0 0
set :buildBlockAt*retaddr 33
write "Moving..." processor2 ".status3"
ucontrol within :buildBlockAt:x :buildBlockAt:y 6 *tmp105 0
jump 738 notEqual *tmp105 false
ucontrol approach :buildBlockAt:x :buildBlockAt:y 5.5 0 0
ucontrol within :buildBlockAt:x :buildBlockAt:y 6 *tmp105 0
jump 735 equal *tmp105 false
ucontrol getBlock :buildBlockAt:x :buildBlockAt:y :buildBlockAt:type :buildBlockAt:building 0
jump 743 equal :buildBlockAt:building null
jump 743 notEqual :buildBlockAt:type :buildBlockAt:block
set :buildBlockAt*retval :buildBlockAt:building
jump 776 always 0 0
ucontrol build :buildBlockAt:x :buildBlockAt:y :buildBlockAt:block :buildBlockAt:rotation :buildBlockAt:config
wait 0.25
set :buildBlockAt:success false
ucontrol build :buildBlockAt:x :buildBlockAt:y :buildBlockAt:block :buildBlockAt:rotation :buildBlockAt:config
ucontrol getBlock :buildBlockAt:x :buildBlockAt:y :buildBlockAt:type :buildBlockAt:building 0
jump 750 notEqual :buildBlockAt:building null
jump 751 equal :buildBlockAt:success false
set :buildBlockAt:success true
jump 757 notEqual :buildBlockAt:block @multiplicative-reconstructor
control enabled processor6 false 0 0 0
ubind @poly
jump 757 equal @unit .builder
ucontrol approach :buildBlockAt:x :buildBlockAt:y 6 0 0
ucontrol build :buildBlockAt:x :buildBlockAt:y :buildBlockAt:block :buildBlockAt:rotation :buildBlockAt:config
jump 746 notEqual :buildBlockAt:type :buildBlockAt:block
control enabled processor6 true 0 0 0
ubind .builder
sensor :log:encodedId :buildBlockAt:block @id
read *tmp100 bank1 511
op sub *tmp366 *tmp100 1
write *tmp366 bank1 511
read *tmp0 processor1 "time"
op mul *tmp369 *tmp0 1000
op add *tmp370 :log:encodedId *tmp369
write *tmp370 bank1 *tmp366
jump 775 lessThan :buildBlockAt:index 0
jump 775 greaterThanEq :buildBlockAt:index 36
op shl *tmp374 1 :buildBlockAt:index
read *tmp7 processor2 ".blocksBuilt"
op or *tmp375 *tmp7 *tmp374
write *tmp375 processor2 ".blocksBuilt"
write :buildBlockAt:index processor2 ".recentBuildIndex"
set :buildBlockAt*retval :buildBlockAt:building
set :buildBlockAt*finished true
set @counter :buildBlockAt*retaddr
set :buildBlockAt:block @pneumatic-drill
set :buildBlockAt:x :buildFirstTitaniumDrillAt:x
set :buildBlockAt:y :buildFirstTitaniumDrillAt:y
set :buildBlockAt:rotation 0
set :buildBlockAt:config null
set :buildBlockAt:index -1
set :buildBlockAt*retaddr 786
jump 732 always 0 0
write :buildBlockAt*retval processor8 ":addTitaniumDrill:drill"
write false processor8 ":addTitaniumDrill*finished"
write 1 processor8 "@counter"
wait 1e-15
read *tmp377 processor8 ":addTitaniumDrill*finished"
jump 789 equal *tmp377 false
set :buildFirstTitaniumDrillAt*retval :buildBlockAt*retval
set :buildFirstTitaniumDrillAt*finished true
jump 33 always 0 0
jump 890 greaterThanEq :buildTitaniumDrill:count .MAX_COUNT
jump 890 greaterThanEq :buildTitaniumDrill:tiles .MAX_TILES
write "Moving..." processor2 ".status3"
ucontrol within :buildTitaniumDrill:x :buildTitaniumDrill:y 6 *tmp105 0
jump 803 notEqual *tmp105 false
ucontrol approach :buildTitaniumDrill:x :buildTitaniumDrill:y 5.5 0 0
ucontrol within :buildTitaniumDrill:x :buildTitaniumDrill:y 6 *tmp105 0
jump 800 equal *tmp105 false
set .positive 0
set .negative 0
op sub *tmp391 :buildTitaniumDrill:x 0.5
op sub *tmp392 :buildTitaniumDrill:y 0.5
set :titaniumDrillScore:positive .positive
set :titaniumDrillScore:negative .negative
ucontrol getBlock *tmp391 *tmp392 0 0 :getFloor:floor
jump 813 notEqual :getFloor:floor @ore-titanium
op add :titaniumDrillScore:positive :titaniumDrillScore:positive 1
jump 818 always 0 0
jump 817 equal :getFloor:floor @ore-copper
jump 817 equal :getFloor:floor @ore-lead
jump 817 equal :getFloor:floor @ore-scrap
jump 818 notEqual :getFloor:floor @ore-coal
op add :titaniumDrillScore:negative :titaniumDrillScore:negative 1
set .positive :titaniumDrillScore:positive
set .negative :titaniumDrillScore:negative
op add *tmp395 :buildTitaniumDrill:y 0.5
set :titaniumDrillScore:positive .positive
set :titaniumDrillScore:negative .negative
ucontrol getBlock *tmp391 *tmp395 0 0 :getFloor:floor
jump 827 notEqual :getFloor:floor @ore-titanium
op add :titaniumDrillScore:positive :titaniumDrillScore:positive 1
jump 832 always 0 0
jump 831 equal :getFloor:floor @ore-copper
jump 831 equal :getFloor:floor @ore-lead
jump 831 equal :getFloor:floor @ore-scrap
jump 832 notEqual :getFloor:floor @ore-coal
op add :titaniumDrillScore:negative :titaniumDrillScore:negative 1
set .positive :titaniumDrillScore:positive
set .negative :titaniumDrillScore:negative
op add *tmp397 :buildTitaniumDrill:x 0.5
set :titaniumDrillScore:positive .positive
set :titaniumDrillScore:negative .negative
ucontrol getBlock *tmp397 *tmp392 0 0 :getFloor:floor
jump 841 notEqual :getFloor:floor @ore-titanium
op add :titaniumDrillScore:positive :titaniumDrillScore:positive 1
jump 846 always 0 0
jump 845 equal :getFloor:floor @ore-copper
jump 845 equal :getFloor:floor @ore-lead
jump 845 equal :getFloor:floor @ore-scrap
jump 846 notEqual :getFloor:floor @ore-coal
op add :titaniumDrillScore:negative :titaniumDrillScore:negative 1
set .positive :titaniumDrillScore:positive
set .negative :titaniumDrillScore:negative
set :titaniumDrillScore:positive .positive
set :titaniumDrillScore:negative .negative
ucontrol getBlock *tmp397 *tmp395 0 0 :getFloor:floor
jump 854 notEqual :getFloor:floor @ore-titanium
op add :titaniumDrillScore:positive :titaniumDrillScore:positive 1
jump 859 always 0 0
jump 858 equal :getFloor:floor @ore-copper
jump 858 equal :getFloor:floor @ore-lead
jump 858 equal :getFloor:floor @ore-scrap
jump 859 notEqual :getFloor:floor @ore-coal
op add :titaniumDrillScore:negative :titaniumDrillScore:negative 1
set .positive :titaniumDrillScore:positive
set .negative :titaniumDrillScore:negative
op greaterThan *tmp403 .positive .negative
op greaterThanEq *tmp404 .positive 2
op land *tmp405 *tmp403 *tmp404
jump 890 equal *tmp405 false
set :meetTargetCfg:cfg "AJJJ~-pneumatic-drill52"
set :meetTargetCfg:forBuild true
set :meetTargetCfg*retaddr 869
jump 637 always 0 0
set :buildBlockAt:block @pneumatic-drill
set :buildBlockAt:x :buildTitaniumDrill:x
set :buildBlockAt:y :buildTitaniumDrill:y
set :buildBlockAt:rotation null
set :buildBlockAt:config 0
set :buildBlockAt:index -1
set :buildBlockAt*retaddr 877
jump 732 always 0 0
jump 890 equal :buildBlockAt*retval null
write :buildBlockAt*retval processor8 ":addTitaniumDrill:drill"
write false processor8 ":addTitaniumDrill*finished"
write 1 processor8 "@counter"
wait 1e-15
read *tmp410 processor8 ":addTitaniumDrill*finished"
jump 881 equal *tmp410 false
op add :buildTitaniumDrill:count :buildTitaniumDrill:count 1
op min *tmp411 :buildTitaniumDrill:count 8
write *tmp411 AÕFFJS-micro-processor9 ".flareTarget"
op add :buildTitaniumDrill:tiles :buildTitaniumDrill:tiles .positive
set :buildTitaniumDrill*retval .positive
set @counter :buildTitaniumDrill*retaddr
set :buildTitaniumDrill*retval 0
set @counter :buildTitaniumDrill*retaddr
set :buildTitaniumDrills:count 1
set :buildTitaniumDrills:tiles 0
jump 896 equal .scrap false
op add .MAX_TILES .MAX_TILES 2
wait 0.0001
wait 0.0001
read *tmp51 processor3 ".locations"
jump 957 greaterThanEq :buildTitaniumDrills:current *tmp51
op mul :buildTitaniumDrills:index :buildTitaniumDrills:current 4
op add *tmp416 :buildTitaniumDrills:index 1
read :buildTitaniumDrills:size bank1 *tmp416
jump 954 lessThan :buildTitaniumDrills:size 3
op add *tmp421 :buildTitaniumDrills:index 2
read :buildTitaniumDrills:x bank1 *tmp421
op add *tmp424 :buildTitaniumDrills:index 3
read :buildTitaniumDrills:y bank1 *tmp424
op sub *tmp427 :buildTitaniumDrills:x 1
op sub *tmp428 :buildTitaniumDrills:y 1
set :buildTitaniumDrill:x *tmp427
set :buildTitaniumDrill:y *tmp428
set :buildTitaniumDrill:count :buildTitaniumDrills:count
set :buildTitaniumDrill:tiles :buildTitaniumDrills:tiles
set :buildTitaniumDrill*retaddr 916
jump 795 always 0 0
set :buildTitaniumDrills:count :buildTitaniumDrill:count
set :buildTitaniumDrills:tiles :buildTitaniumDrill:tiles
set *tmp429 :buildTitaniumDrill*retval
op add *tmp430 :buildTitaniumDrills:x 1
op sub *tmp431 :buildTitaniumDrills:y 1
set :buildTitaniumDrill:x *tmp430
set :buildTitaniumDrill:y *tmp431
set :buildTitaniumDrill*retaddr 925
jump 795 always 0 0
set :buildTitaniumDrills:count :buildTitaniumDrill:count
set :buildTitaniumDrills:tiles :buildTitaniumDrill:tiles
op add *tmp433 *tmp429 :buildTitaniumDrill*retval
op sub *tmp434 :buildTitaniumDrills:x 1
op add *tmp435 :buildTitaniumDrills:y 1
set :buildTitaniumDrill:x *tmp434
set :buildTitaniumDrill:y *tmp435
set :buildTitaniumDrill*retaddr 934
jump 795 always 0 0
set :buildTitaniumDrills:count :buildTitaniumDrill:count
set :buildTitaniumDrills:tiles :buildTitaniumDrill:tiles
op add *tmp437 *tmp433 :buildTitaniumDrill*retval
op add *tmp438 :buildTitaniumDrills:x 1
op add *tmp439 :buildTitaniumDrills:y 1
set :buildTitaniumDrill:x *tmp438
set :buildTitaniumDrill:y *tmp439
set :buildTitaniumDrill*retaddr 943
jump 795 always 0 0
set :buildTitaniumDrills:count :buildTitaniumDrill:count
set :buildTitaniumDrills:tiles :buildTitaniumDrill:tiles
op add :buildTitaniumDrills:built *tmp437 :buildTitaniumDrill*retval
jump 954 notEqual :buildTitaniumDrills:built 0
set :buildTitaniumDrill:x :buildTitaniumDrills:x
set :buildTitaniumDrill:y :buildTitaniumDrills:y
set :buildTitaniumDrill*retaddr 951
jump 795 always 0 0
set :buildTitaniumDrills:count :buildTitaniumDrill:count
set :buildTitaniumDrills:tiles :buildTitaniumDrill:tiles
set :buildTitaniumDrills:built :buildTitaniumDrill*retval
op add :buildTitaniumDrills:current :buildTitaniumDrills:current 1
read *tmp51 processor3 ".locations"
jump 900 lessThan :buildTitaniumDrills:current *tmp51
jump 961 greaterThanEq :buildTitaniumDrills:tiles .MAX_TILES
jump 961 greaterThanEq :buildTitaniumDrills:count .MAX_COUNT
read *tmp52 processor3 ".searchFinished"
jump 898 equal *tmp52 false
set :buildTitaniumDrills*finished true
jump 33 always 0 0
draw triangle ALTJL-battery2 A{LNJO-inverted-sorter5 A{HNJQ-inverted-sorter7 AJPJR-underflow-gate8 AFHJT-power-node10 A©FJJU-unloader11
draw triangle A~DJJV-overflow-gate12 A¾BFLW-air-factory13 A©NHJX-unloader14 A{NJJY-inverted-sorter15 ANOMJZ-kiln16 AÜAOJ[-liquid-container17
draw triangle A¡ASJ\-water-extractor18 AAKJ]-steam-generator19 ALQIJ^-silicon-smelter20 AKFRJ_-multi-press21 A©HFJ`-unloader22 A{HDJa-inverted-sorter23
draw triangle AÀF@Lb-additive-reconstructor24 AÁNBJc-multiplicative-reconstructor25 A~PPJe-overflow-gate27 APTJf-power-node28 A©RPJg-unloader29 AXTPJi-pulverizer31
draw triangle A~RNJj-overflow-gate32 A~RLJk-overflow-gate33 AXTNJl-pulverizer34 AXTLJm-pulverizer35 .ERROR_FOUND_BLOCK .ERROR_FOUND_TYPE
draw triangle .ERROR_X .ERROR_Y 0 0 0 0
print "Compiled by Mindcode - github.com/cardillan/mindcode"
set *signature "0:v1"
wait 1e12
jump 1 always 0 0
draw triangle AJEMJJ-graphite-press0 AJTJK-battery1 ALTJL-battery2 AJRJM-combustion-generator3 ALMQJN-silicon-smelter4 A{LNJO-inverted-sorter5
draw triangle A©JNJP-unloader6 A{HNJQ-inverted-sorter7 AJPJR-underflow-gate8 AÕFFJS-micro-processor9 AFHJT-power-node10 A©FJJU-unloader11
draw triangle A~DJJV-overflow-gate12 A¾BFLW-air-factory13 A©NHJX-unloader14 A{NJJY-inverted-sorter15 ANOMJZ-kiln16 AÜAOJ[-liquid-container17
draw triangle A¡ASJ\-water-extractor18 AAKJ]-steam-generator19 ALQIJ^-silicon-smelter20 AKFRJ_-multi-press21 A©HFJ`-unloader22 A{HDJa-inverted-sorter23
draw triangle AÀF@Lb-additive-reconstructor24 AÁNBJc-multiplicative-reconstructor25 AXPRJd-pulverizer26 A~PPJe-overflow-gate27 APTJf-power-node28 A©RPJg-unloader29
draw triangle A¨SSJh-container30 AXTPJi-pulverizer31 A~RNJj-overflow-gate32 A~RLJk-overflow-gate33 AXTNJl-pulverizer34 AXTLJm-pulverizer35
print "Compiled by Mindcode - github.com/cardillan/mindcode"
jump 3 always 0 0
jump 258 always 0 0
jump 263 always 0 0
set .finished false
set .flares 0
set .monos 0
set .polys 1
set .megas 0
set .pressTarget 20
set .smelterTarget 20
set .kilnTarget 20
set .flareTarget 0
set .monoTarget 0
set .polyTarget 0
set .megaTarget 0
set .powerTarget 1609
set .lastProgress 0
set .lastRecoProgress 0
set .lastMultiProgress 0
set .recoEntered false
set .canConsume true
set .airFactoryTarget null
set .waterMax 0
set .enableWater true
set *signature "b3793b19cefc6f9a:v1"
jump 256 notEqual .finished false
set :backgroundProcess:ticks @tick
sensor :backgroundProcess:coreSilicon .core @silicon
sensor :backgroundProcess:coreGraphite .core @graphite
set *tmp35 ALQIJ^-silicon-smelter20
set *tmp37 ALMQJN-silicon-smelter4
op lessThan *tmp39 :backgroundProcess:coreSilicon .smelterTarget
control enabled *tmp37 *tmp39 0 0 0
control enabled *tmp35 *tmp39 0 0 0
set *tmp40 AJEMJJ-graphite-press0
op equal *tmp282 AKFRJ_-multi-press21 false
select *tmp44 lessThan :backgroundProcess:coreGraphite .pressTarget *tmp282 false
control enabled *tmp40 *tmp44 0 0 0
set *tmp45 AKFRJ_-multi-press21
op lessThan *tmp47 :backgroundProcess:coreGraphite .pressTarget
control enabled *tmp45 *tmp47 0 0 0
set *tmp48 ANOMJZ-kiln16
sensor *tmp50 .core @metaglass
op lessThan *tmp51 *tmp50 .kilnTarget
control enabled *tmp48 *tmp51 0 0 0
sensor :backgroundProcess:power AJTJK-battery1 @totalPower
jump 66 equal AAKJ]-steam-generator19 false
set *tmp54 AJRJM-combustion-generator3
op lessThan *tmp56 :backgroundProcess:power 9
control enabled *tmp54 *tmp56 0 0 0
set *tmp57 AAKJ]-steam-generator19
op lessThan *tmp59 :backgroundProcess:power .powerTarget
control enabled *tmp57 *tmp59 0 0 0
set *tmp60 AXTNJl-pulverizer34
op greaterThan *tmp62 :backgroundProcess:power 900
control enabled *tmp60 *tmp62 0 0 0
set *tmp63 AXTLJm-pulverizer35
op greaterThan *tmp65 :backgroundProcess:power 1000
control enabled *tmp63 *tmp65 0 0 0
sensor :backgroundProcess:water AÜAOJ[-liquid-container17 @totalLiquids
op max .waterMax .waterMax :backgroundProcess:water
select *tmp71 greaterThan :backgroundProcess:water 500 false .enableWater
select *tmp69 lessThan :backgroundProcess:water 250 true *tmp71
set .enableWater *tmp69
control enabled A¡ASJ\-water-extractor18 *tmp69 0 0 0
jump 69 always 0 0
set *tmp74 AJRJM-combustion-generator3
op lessThan *tmp76 :backgroundProcess:power 809
control enabled *tmp74 *tmp76 0 0 0
jump 110 greaterThanEq .flares .flareTarget
jump 110 equal .airFactoryTarget @mono
set .airFactoryTarget @flare
write @flare .display ".nextFactory"
jump 76 notEqual .canConsume false
control config A©FJJU-unloader11 @coal 0 0 0
jump 162 always 0 0
sensor *tmp84 AAKJ]-steam-generator19 @coal
op mul *tmp85 5 AAKJ]-steam-generator19
jump 81 greaterThanEq *tmp84 *tmp85
control config A©FJJU-unloader11 @coal 0 0 0
jump 162 always 0 0
jump 84 greaterThanEq :backgroundProcess:power 200
control enabled A¾BFLW-air-factory13 false 0 0 0
jump 86 always 0 0
jump 86 lessThanEq :backgroundProcess:power 500
control enabled A¾BFLW-air-factory13 true 0 0 0
control config A¾BFLW-air-factory13 @flare 0 0 0
sensor :handleAirFactory:factoryProgress A¾BFLW-air-factory13 @progress
jump 102 lessThanEq .lastProgress :handleAirFactory:factoryProgress
read *tmp31 .bank 511
op sub *tmp246 *tmp31 1
write *tmp246 .bank 511
read *tmp249 .timer "time"
op mul *tmp250 *tmp249 1000
op add *tmp251 275 *tmp250
write *tmp251 .bank *tmp246
op add *tmp240 .flares 1
set .flares *tmp240
write *tmp240 .display ".flares"
set .lastProgress 0
control config A©FJJU-unloader11 @coal 0 0 0
jump 162 always 0 0
set .lastProgress :handleAirFactory:factoryProgress
sensor *tmp114 .core @silicon
select *tmp116 greaterThan *tmp114 0 15 0
set *tmp117 A©FJJU-unloader11
sensor *tmp119 A¾BFLW-air-factory13 @silicon
select *tmp121 lessThan *tmp119 *tmp116 @silicon @coal
control config *tmp117 *tmp121 0 0 0
jump 162 always 0 0
jump 157 greaterThanEq .monos .monoTarget
jump 157 equal .airFactoryTarget @flare
set .airFactoryTarget @mono
write @mono .display ".nextFactory"
jump 117 notEqual .canConsume false
control config A©FJJU-unloader11 @coal 0 0 0
jump 162 always 0 0
sensor *tmp129 AAKJ]-steam-generator19 @coal
op mul *tmp130 5 AAKJ]-steam-generator19
jump 122 greaterThanEq *tmp129 *tmp130
control config A©FJJU-unloader11 @coal 0 0 0
jump 162 always 0 0
jump 125 greaterThanEq :backgroundProcess:power 200
control enabled A¾BFLW-air-factory13 false 0 0 0
jump 127 always 0 0
jump 127 lessThanEq :backgroundProcess:power 500
control enabled A¾BFLW-air-factory13 true 0 0 0
control config A¾BFLW-air-factory13 @mono 0 0 0
sensor :handleAirFactory.1:factoryProgress A¾BFLW-air-factory13 @progress
jump 143 lessThanEq .lastProgress :handleAirFactory.1:factoryProgress
read *tmp31 .bank 511
op sub *tmp246 *tmp31 1
write *tmp246 .bank 511
read *tmp249 .timer "time"
op mul *tmp250 *tmp249 1000
op add *tmp251 280 *tmp250
write *tmp251 .bank *tmp246
op add *tmp241 .monos 1
set .monos *tmp241
write *tmp241 .display ".monos"
set .lastProgress 0
control config A©FJJU-unloader11 @coal 0 0 0
jump 162 always 0 0
set .lastProgress :handleAirFactory.1:factoryProgress
sensor *tmp151 .core @lead
select *tmp153 greaterThan *tmp151 0 15 0
sensor *tmp154 A¾BFLW-air-factory13 @lead
jump 150 greaterThanEq *tmp154 *tmp153
control config A©FJJU-unloader11 @lead 0 0 0
jump 162 always 0 0
sensor *tmp159 .core @silicon
select *tmp161 greaterThan *tmp159 0 30 0
set *tmp162 A©FJJU-unloader11
sensor *tmp164 A¾BFLW-air-factory13 @silicon
select *tmp166 lessThan *tmp164 *tmp161 @silicon @coal
control config *tmp162 *tmp166 0 0 0
jump 162 always 0 0
set .airFactoryTarget null
write null .display ".nextFactory"
control enabled A¾BFLW-air-factory13 false 0 0 0
control config A¾BFLW-air-factory13 @flare 0 0 0
control config A©FJJU-unloader11 @coal 0 0 0
jump 212 greaterThanEq .polys .polyTarget
write @poly .display ".nextAddReco"
sensor :backgroundProcess:recoProgress AÀF@Lb-additive-reconstructor24 @progress
jump 179 lessThanEq .lastRecoProgress :backgroundProcess:recoProgress
read *tmp31 .bank 511
op sub *tmp246 *tmp31 1
write *tmp246 .bank 511
read *tmp249 .timer "time"
op mul *tmp250 *tmp249 1000
op add *tmp251 281 *tmp250
write *tmp251 .bank *tmp246
op add *tmp242 .polys 1
set .polys *tmp242
write *tmp242 .display ".polys"
set .recoEntered false
set .lastRecoProgress 0
jump 180 always 0 0
set .lastRecoProgress :backgroundProcess:recoProgress
sensor :backgroundProcess:s AÀF@Lb-additive-reconstructor24 @silicon
sensor :backgroundProcess:g AÀF@Lb-additive-reconstructor24 @graphite
jump 198 lessThan :backgroundProcess:s 40
jump 198 lessThan :backgroundProcess:g 40
jump 196 notEqual .recoEntered false
sensor :backgroundProcess:x AÀF@Lb-additive-reconstructor24 @x
sensor :backgroundProcess:y AÀF@Lb-additive-reconstructor24 @y
ubind @mono
ucontrol move :backgroundProcess:x :backgroundProcess:y 0 0 0
ucontrol payEnter 0 0 0 0 0
sensor *tmp187 @unit @dead
jump 188 equal *tmp187 false
op sub *tmp189 .monos 1
set .monos *tmp189
write *tmp189 .display ".monos"
set .recoEntered true
control enabled A{HDJa-inverted-sorter23 false 0 0 0
jump 214 always 0 0
op greaterThan *tmp192 :backgroundProcess:coreSilicon .siliconReserve
op mul *tmp193 40 *tmp192
jump 204 greaterThanEq :backgroundProcess:s *tmp193
control config A©HFJ`-unloader22 @silicon 0 0 0
control enabled A{HDJa-inverted-sorter23 .canConsume 0 0 0
jump 214 always 0 0
op greaterThan *tmp201 :backgroundProcess:coreGraphite .graphiteReserve
op mul *tmp202 40 *tmp201
jump 210 greaterThanEq :backgroundProcess:g *tmp202
control config A©HFJ`-unloader22 @graphite 0 0 0
control enabled A{HDJa-inverted-sorter23 .canConsume 0 0 0
jump 214 always 0 0
control enabled A{HDJa-inverted-sorter23 false 0 0 0
jump 214 always 0 0
write null .display ".nextAddReco"
control enabled A{HDJa-inverted-sorter23 false 0 0 0
jump 254 equal AÁNBJc-multiplicative-reconstructor25 false
write @mega .display ".nextMultiReco"
set :backgroundProcess:c @metaglass
sensor *tmp215 AÁNBJc-multiplicative-reconstructor25 @metaglass
jump 231 lessThan *tmp215 40
sensor *tmp218 .core @titanium
jump 225 equal *tmp218 false
sensor *tmp219 AÁNBJc-multiplicative-reconstructor25 @titanium
jump 225 greaterThanEq *tmp219 80
set :backgroundProcess:c @titanium
jump 231 always 0 0
sensor *tmp222 .core @silicon
jump 230 equal *tmp222 false
sensor *tmp223 AÁNBJc-multiplicative-reconstructor25 @silicon
select :backgroundProcess:c greaterThanEq *tmp223 130 @coal @silicon
jump 231 always 0 0
set :backgroundProcess:c @coal
control config A©NHJX-unloader14 :backgroundProcess:c 0 0 0
control config A©HFJ`-unloader22 :backgroundProcess:c 0 0 0
sensor :backgroundProcess:multiProgress AÁNBJc-multiplicative-reconstructor25 @progress
jump 248 lessThanEq .lastMultiProgress :backgroundProcess:multiProgress
write null .display ".nextMultiReco"
read *tmp31 .bank 511
op sub *tmp246 *tmp31 1
write *tmp246 .bank 511
read *tmp249 .timer "time"
op mul *tmp250 *tmp249 1000
op add *tmp251 282 *tmp250
write *tmp251 .bank *tmp246
op add *tmp243 .megas 1
set .megas *tmp243
write *tmp243 .display ".megas"
set .lastMultiProgress 0
jump 254 always 0 0
jump 253 lessThanEq :backgroundProcess:multiProgress 0
control enabled A©RPJg-unloader29 false 0 0 0
set .smelterTarget 0
set .pressTarget 0
set .kilnTarget 0
set .lastMultiProgress :backgroundProcess:multiProgress
op sub .loopTicks @tick :backgroundProcess:ticks
jump 26 equal .finished false
wait 1e12
jump 25 always 0 0
control config A©FJJU-unloader11 @coal 0 0 0
control enabled A{HDJa-inverted-sorter23 false 0 0 0
set .canConsume false
set :buildStart*finished true
jump 25 always 0 0
set .canConsume true
set :buildStop*finished true
jump 25 always 0 0
draw triangle ALTJL-battery2 A{LNJO-inverted-sorter5 A©JNJP-unloader6 A{HNJQ-inverted-sorter7 AJPJR-underflow-gate8 AÕFFJS-micro-processor9
draw triangle AFHJT-power-node10 A~DJJV-overflow-gate12 A{NJJY-inverted-sorter15 AXPRJd-pulverizer26 A~PPJe-overflow-gate27 APTJf-power-node28
draw triangle A¨SSJh-container30 AXTPJi-pulverizer31 A~RNJj-overflow-gate32 A~RLJk-overflow-gate33 0 0
print "Compiled by Mindcode - github.com/cardillan/mindcode"
read *tmp39 processor3 "*signature"
jump 0 notEqual *tmp39 "2b365030e19b2b7f:v1"
set .core null
set .page 0
set .numPages 4
set .recentBuildIndex -1
set .monos 0
set .flares 0
set .polys 1
set .megas 0
set .animation -15
set .pageSwitched false
set *signature "0:v1"
ubind @poly
ulocate building core false @copper 0 0 0 .core
jump 13 equal .core null
sensor *tmp45 processor2 @bufferSize
jump 764 greaterThanEq *tmp45 200
jump 473 notEqual .page 0
jump 47 lessThanEq .megas 0
jump 24 greaterThanEq .animation 0
draw color 0 0 32 80 0 0
draw rect 0 0 176 176 0 0
jump 26 always 0 0
draw reset 0 0 0 0 0 0
draw clear 0 0 32 0 0 0
draw col %[white] 0 0 0 0 0
op div *tmp54 .animation 30
op min *tmp55 *tmp54 1
op max :animate:ratio 0 *tmp55
op sub *tmp58 1 :animate:ratio
op mul *tmp59 *tmp58 42
op mul *tmp60 :animate:ratio 90
op add *tmp57 *tmp59 *tmp60
op mul *tmp64 *tmp58 237
op mul *tmp65 :animate:ratio 120
op add *tmp62 *tmp64 *tmp65
op mul *tmp69 *tmp58 32
op mul *tmp70 :animate:ratio 168
op add *tmp67 *tmp69 *tmp70
draw image *tmp57 *tmp62 @mega *tmp67 0 0
jump 44 notEqual :animate:ratio 1
set :drawHeader*retaddr 44
jump 785 always 0 0
drawflush display1
op add .animation .animation 1
jump 764 always 0 0
draw clear 0 0 32 0 0 0
set :drawHeader*retaddr 50
jump 785 always 0 0
set :updateDisplay:y 201
set :drawMaterials:col 0
jump 54 equal .nextBlock @ore-thorium
jump 80 notEqual .nextBlock @ore-titanium
print "Locating ore..."
draw print 22 201 @bottomLeft 0 0 0
print "Locating ore..."
draw print 23 201 @bottomLeft 0 0 0
set :drawItem:item .nextBlock
read :drawItem:current processor3 ".mapProgress"
read :drawItem:target processor3 ".mapTotal"
op mul *tmp82 126 :drawItem:current
op div *tmp83 *tmp82 :drawItem:target
op min :drawItemColor:length 126 *tmp83
draw col %[white] 0 0 0 0 0
draw image 11 191 :drawItem:item 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 186 :drawItemColor:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 186 126 10 0 0
print "x"
read *tmp97 processor3 ".mapSpots"
print *tmp97
draw print 174 193 @right 0 0 0
print "x"
read *tmp99 processor3 ".mapSpots"
print *tmp99
draw print 175 193 @right 0 0 0
op sub :updateDisplay:y 171 35
jump 152 always 0 0
jump 152 equal .nextBlock null
set :drawMaterials:count .totalTargets
print "Materials"
draw print 22 201 @bottomLeft 0 0 0
print "Materials"
draw print 23 201 @bottomLeft 0 0 0
set :updateDisplay:y 186
jump 147 equal :drawMaterials:count false
set :drawMaterials:item @copper
set :drawMaterials:target .targetCopper
set *tmp106 92
jump 115 always 0 0
set :drawMaterials:item @lead
set :drawMaterials:target .targetLead
set *tmp106 96
jump 115 always 0 0
set :drawMaterials:item @graphite
set :drawMaterials:target .targetGraphite
set *tmp106 100
jump 115 always 0 0
set :drawMaterials:item @silicon
set :drawMaterials:target .targetSilicon
set *tmp106 104
jump 115 always 0 0
set :drawMaterials:item @titanium
set :drawMaterials:target .targetTitanium
set *tmp106 108
jump 115 always 0 0
set :drawMaterials:item @metaglass
set :drawMaterials:target .targetMetaglass
set *tmp106 112
jump 115 always 0 0
set :drawMaterials:item @thorium
set :drawMaterials:target .targetThorium
set *tmp106 147
jump 146 lessThanEq :drawMaterials:target 0
sensor *tmp109 .core :drawMaterials:item
set :drawItemColor.1:y :updateDisplay:y
op mul *tmp114 126 *tmp109
op div *tmp115 *tmp114 :drawMaterials:target
op min :drawItemColor.1:length 126 *tmp115
op mul *tmp118 :drawMaterials:col 88
op add :drawItemColor.1:iconX 11 *tmp118
op add :drawItemColor.1:barX 22 *tmp118
op add :drawItemColor.1:textX 174 *tmp118
draw col %[white] 0 0 0 0 0
op add *tmp126 :updateDisplay:y 5
draw image :drawItemColor.1:iconX *tmp126 :drawMaterials:item 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect :drawItemColor.1:barX :updateDisplay:y :drawItemColor.1:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect :drawItemColor.1:barX :updateDisplay:y 126 10 0 0
op add *tmp128 :updateDisplay:y 7
print :drawMaterials:target
draw print :drawItemColor.1:textX *tmp128 @right 0 0 0
op add :drawText.7:x *tmp118 175
print :drawMaterials:target
draw print :drawText.7:x *tmp128 @right 0 0 0
op add :drawItemColor.1:col :drawMaterials:col 1
jump 142 lessThan :drawMaterials:col 0
set :drawItemColor.1:col 0
op sub :drawItemColor.1:y :updateDisplay:y 15
set :drawMaterials:col :drawItemColor.1:col
set :updateDisplay:y :drawItemColor.1:y
op sub :drawMaterials:count :drawMaterials:count 1
jump 147 lessThanEq :drawMaterials:count 0
set @counter *tmp106
jump 151 greaterThanEq .totalTargets 3
op sub *tmp136 3 .totalTargets
op mul *tmp137 *tmp136 15
op sub :updateDisplay:y :updateDisplay:y *tmp137
op sub :updateDisplay:y :updateDisplay:y 5
jump 233 equal .nextFactory null
draw col %[white] 0 0 0 0 0
print "Air Factory"
draw print 22 :updateDisplay:y @bottomLeft 0 0 0
print "Air Factory"
draw print 23 :updateDisplay:y @bottomLeft 0 0 0
op sub :drawTitleRow.2:y :updateDisplay:y 15
sensor :drawAirFactory:progress A¾BFLW-air-factory13 @progress
jump 213 notEqual :drawAirFactory:progress 0
jump 179 notEqual .nextFactory @flare
sensor *tmp145 A¾BFLW-air-factory13 @silicon
op mul *tmp151 *tmp145 8.4
op min :drawItemColor.2:length 126 *tmp151
draw col %[white] 0 0 0 0 0
op sub *tmp162 :updateDisplay:y 10
draw image 11 *tmp162 @silicon 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawTitleRow.2:y :drawItemColor.2:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawTitleRow.2:y 126 10 0 0
op sub *tmp164 :updateDisplay:y 8
print 15
draw print 174 *tmp164 @right 0 0 0
print 15
draw print 175 *tmp164 @right 0 0 0
op sub :updateDisplay:y :drawTitleRow.2:y 30
jump 232 always 0 0
sensor *tmp168 A¾BFLW-air-factory13 @lead
op mul *tmp174 *tmp168 8.4
op min :drawItemColor.3:length 126 *tmp174
draw col %[white] 0 0 0 0 0
op sub *tmp185 :updateDisplay:y 10
draw image 11 *tmp185 @lead 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawTitleRow.2:y :drawItemColor.3:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawTitleRow.2:y 126 10 0 0
op sub *tmp187 :updateDisplay:y 8
print 15
draw print 174 *tmp187 @right 0 0 0
print 15
draw print 175 *tmp187 @right 0 0 0
op sub :drawItemColor.3:y :updateDisplay:y 30
sensor *tmp191 A¾BFLW-air-factory13 @silicon
op mul *tmp197 *tmp191 4.2
op min :drawItemColor.4:length 126 *tmp197
draw col %[white] 0 0 0 0 0
op sub *tmp208 :updateDisplay:y 25
draw image 11 *tmp208 @silicon 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawItemColor.3:y :drawItemColor.4:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawItemColor.3:y 126 10 0 0
op sub *tmp210 :updateDisplay:y 23
print 30
draw print 174 *tmp210 @right 0 0 0
print 30
draw print 175 *tmp210 @right 0 0 0
op sub :drawItemColor.4:y :updateDisplay:y 45
set :updateDisplay:y :drawItemColor.4:y
jump 232 always 0 0
op idiv *tmp215 :drawAirFactory:progress 0.01
set :drawItem.5:item .nextFactory
op mul *tmp220 126 :drawAirFactory:progress
op min :drawItemColor.5:length 126 *tmp220
draw col %[white] 0 0 0 0 0
op sub *tmp232 :updateDisplay:y 10
draw image 11 *tmp232 :drawItem.5:item 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawTitleRow.2:y :drawItemColor.5:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawTitleRow.2:y 126 10 0 0
op sub *tmp234 :updateDisplay:y 8
print *tmp215
print "%"
draw print 174 *tmp234 @right 0 0 0
print *tmp215
print "%"
draw print 175 *tmp234 @right 0 0 0
op sub :updateDisplay:y :drawTitleRow.2:y 30
op sub :updateDisplay:y :updateDisplay:y 5
jump 295 equal .nextAddReco null
draw col %[white] 0 0 0 0 0
print "Reconstructor"
draw print 22 :updateDisplay:y @bottomLeft 0 0 0
print "Reconstructor"
draw print 23 :updateDisplay:y @bottomLeft 0 0 0
op sub :drawTitleRow.3:y :updateDisplay:y 15
sensor :drawAddReco:progress AÀF@Lb-additive-reconstructor24 @progress
jump 276 notEqual :drawAddReco:progress 0
sensor *tmp243 AÀF@Lb-additive-reconstructor24 @graphite
op mul *tmp249 *tmp243 3.1500000000000004
op min :drawItemColor.6:length 126 *tmp249
draw col %[white] 0 0 0 0 0
op sub *tmp260 :updateDisplay:y 10
draw image 11 *tmp260 @graphite 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawTitleRow.3:y :drawItemColor.6:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawTitleRow.3:y 126 10 0 0
op sub *tmp262 :updateDisplay:y 8
print 40
draw print 174 *tmp262 @right 0 0 0
print 40
draw print 175 *tmp262 @right 0 0 0
op sub :drawItemColor.6:y :updateDisplay:y 30
sensor *tmp266 AÀF@Lb-additive-reconstructor24 @silicon
op mul *tmp272 *tmp266 3.1500000000000004
op min :drawItemColor.7:length 126 *tmp272
draw col %[white] 0 0 0 0 0
op sub *tmp283 :updateDisplay:y 25
draw image 11 *tmp283 @silicon 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawItemColor.6:y :drawItemColor.7:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawItemColor.6:y 126 10 0 0
op sub *tmp285 :updateDisplay:y 23
print 40
draw print 174 *tmp285 @right 0 0 0
print 40
draw print 175 *tmp285 @right 0 0 0
op sub :drawItemColor.7:y :updateDisplay:y 45
set :updateDisplay:y :drawItemColor.7:y
jump 294 always 0 0
op idiv *tmp290 :drawAddReco:progress 0.01
op mul *tmp295 126 :drawAddReco:progress
op min :drawItemColor.8:length 126 *tmp295
draw col %[white] 0 0 0 0 0
op sub *tmp307 :updateDisplay:y 10
draw image 11 *tmp307 @poly 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawTitleRow.3:y :drawItemColor.8:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawTitleRow.3:y 126 10 0 0
op sub *tmp309 :updateDisplay:y 8
print *tmp290
print "%"
draw print 174 *tmp309 @right 0 0 0
print *tmp290
print "%"
draw print 175 *tmp309 @right 0 0 0
op sub :updateDisplay:y :drawTitleRow.3:y 30
op sub :updateDisplay:y :updateDisplay:y 5
jump 374 equal .nextMultiReco null
draw col %[white] 0 0 0 0 0
op min :updateDisplay:y :updateDisplay:y 142
print "Reconstructor"
draw print 22 :updateDisplay:y @bottomLeft 0 0 0
print "Reconstructor"
draw print 23 :updateDisplay:y @bottomLeft 0 0 0
op sub :drawTitleRow.4:y :updateDisplay:y 15
sensor :drawMultiReco:progress AÁNBJc-multiplicative-reconstructor25 @progress
jump 355 notEqual :drawMultiReco:progress 0
sensor *tmp319 AÁNBJc-multiplicative-reconstructor25 @metaglass
op mul *tmp325 *tmp319 3.1500000000000004
op min :drawItemColor.9:length 126 *tmp325
draw col %[white] 0 0 0 0 0
op sub *tmp336 :updateDisplay:y 10
draw image 11 *tmp336 @metaglass 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawTitleRow.4:y :drawItemColor.9:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawTitleRow.4:y 126 10 0 0
op sub *tmp338 :updateDisplay:y 8
print 40
draw print 174 *tmp338 @right 0 0 0
print 40
draw print 175 *tmp338 @right 0 0 0
op sub :drawItemColor.9:y :updateDisplay:y 30
sensor *tmp342 AÁNBJc-multiplicative-reconstructor25 @titanium
op div *tmp348 *tmp342 0.6349206349206349
op min :drawItemColor.10:length 126 *tmp348
draw col %[white] 0 0 0 0 0
op sub *tmp359 :updateDisplay:y 25
draw image 11 *tmp359 @titanium 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawItemColor.9:y :drawItemColor.10:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawItemColor.9:y 126 10 0 0
op sub *tmp361 :updateDisplay:y 23
print 80
draw print 174 *tmp361 @right 0 0 0
print 80
draw print 175 *tmp361 @right 0 0 0
op sub :drawItemColor.10:y :updateDisplay:y 45
sensor *tmp365 AÁNBJc-multiplicative-reconstructor25 @silicon
op div *tmp371 *tmp365 1.0317460317460319
op min :drawItemColor.11:length 126 *tmp371
draw col %[white] 0 0 0 0 0
op sub *tmp382 :updateDisplay:y 40
draw image 11 *tmp382 @silicon 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawItemColor.10:y :drawItemColor.11:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawItemColor.10:y 126 10 0 0
op sub *tmp384 :updateDisplay:y 38
print 130
draw print 174 *tmp384 @right 0 0 0
print 130
draw print 175 *tmp384 @right 0 0 0
op sub :drawItemColor.11:y :updateDisplay:y 60
set :updateDisplay:y :drawItemColor.11:y
jump 373 always 0 0
op idiv *tmp389 :drawMultiReco:progress 0.01
op mul *tmp394 126 :drawMultiReco:progress
op min :drawItemColor.12:length 126 *tmp394
draw col %[white] 0 0 0 0 0
op sub *tmp406 :updateDisplay:y 10
draw image 11 *tmp406 @mega 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawTitleRow.4:y :drawItemColor.12:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawTitleRow.4:y 126 10 0 0
op sub *tmp408 :updateDisplay:y 8
print *tmp389
print "%"
draw print 174 *tmp408 @right 0 0 0
print *tmp389
print "%"
draw print 175 *tmp408 @right 0 0 0
op sub :updateDisplay:y :drawTitleRow.4:y 45
op sub :updateDisplay:y :updateDisplay:y 5
sensor *tmp412 @unit @dead
jump 421 notEqual *tmp412 false
draw col %[white] 0 0 0 0 0
print "Builder"
draw print 22 :updateDisplay:y @bottomLeft 0 0 0
print "Builder"
draw print 23 :updateDisplay:y @bottomLeft 0 0 0
op sub :drawTitleRow.5:y :updateDisplay:y 15
jump 398 notEqual .transportItem null
draw col %[white] 0 0 0 0 0
op sub *tmp432 :updateDisplay:y 10
draw image 11 *tmp432 @poly 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawTitleRow.5:y 0 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawTitleRow.5:y 126 10 0 0
op sub *tmp434 :updateDisplay:y 8
print .transportTarget
draw print 174 *tmp434 @right 0 0 0
print .transportTarget
draw print 175 *tmp434 @right 0 0 0
op sub :drawItemColor.13:y :updateDisplay:y 30
set :updateDisplay:y :drawItemColor.13:y
jump 421 always 0 0
sensor :drawBuilder:unitItem @unit @firstItem
sensor *tmp441 @unit @totalItems
op equal *tmp442 :drawBuilder:unitItem .transportItem
op mul *tmp443 *tmp441 *tmp442
set :drawUnit.1:item .transportItem
set :drawItem.14:target .transportTarget
op mul *tmp448 126 *tmp443
op div *tmp449 *tmp448 :drawItem.14:target
op min :drawItemColor.14:length 126 *tmp449
draw col %[white] 0 0 0 0 0
op sub *tmp460 :updateDisplay:y 10
draw image 11 *tmp460 :drawUnit.1:item 14 0 0
draw col %008000FF 0 0 0 0 0
draw rect 22 :drawTitleRow.5:y :drawItemColor.14:length 10 0 0
draw col %00FF00FF 0 0 0 0 0
draw lineRect 22 :drawTitleRow.5:y 126 10 0 0
op sub *tmp462 :updateDisplay:y 8
print .transportTarget
draw print 174 *tmp462 @right 0 0 0
print .transportTarget
draw print 175 *tmp462 @right 0 0 0
op sub :drawItemColor.14:y :updateDisplay:y 30
set :updateDisplay:y :drawItemColor.14:y
jump 471 equal AJTJK-battery1 null
select *tmp470 notEqual AÜAOJ[-liquid-container17 false 35 20
jump 471 lessThan :updateDisplay:y *tmp470
draw col %[white] 0 0 0 0 0
select *tmp473 notEqual AÜAOJ[-liquid-container17 false "Power / Water" "Power"
print *tmp473
draw print 22 *tmp470 @bottomLeft 0 0 0
print *tmp473
draw print 23 *tmp470 @bottomLeft 0 0 0
op sub :drawTitleRow.6:y *tmp470 15
sensor :drawPower:power AJTJK-battery1 @totalPower
op mul *tmp475 :drawPower:power 100
op idiv *tmp477 *tmp475 4000
op mul *tmp483 :drawPower:power 0.0315
op min :drawItemColor.15:length 126 *tmp483
draw col %[white] 0 0 0 0 0
op sub *tmp494 *tmp470 10
draw image 11 *tmp494 @battery 14 0 0
draw col %808000FF 0 0 0 0 0
draw rect 22 :drawTitleRow.6:y :drawItemColor.15:length 10 0 0
draw col %FFFF00FF 0 0 0 0 0
draw lineRect 22 :drawTitleRow.6:y 126 10 0 0
op sub *tmp496 *tmp470 8
print *tmp477
print "%"
draw print 174 *tmp496 @right 0 0 0
print *tmp477
print "%"
draw print 175 *tmp496 @right 0 0 0
op sub :drawItemColor.15:y *tmp470 30
jump 471 equal AÜAOJ[-liquid-container17 false
sensor :drawPower:water AÜAOJ[-liquid-container17 @totalLiquids
op mul *tmp502 :drawPower:water 100
op idiv *tmp504 *tmp502 700
op mul *tmp510 :drawPower:water 0.18
op min :drawItemColor.16:length 126 *tmp510
draw col %[white] 0 0 0 0 0
op sub *tmp521 *tmp470 25
draw image 11 *tmp521 @liquid-container 14 0 0
draw col %5A5AAAFF 0 0 0 0 0
draw rect 22 :drawItemColor.15:y :drawItemColor.16:length 10 0 0
draw col %AFAFFFFF 0 0 0 0 0
draw lineRect 22 :drawItemColor.15:y 126 10 0 0
op sub *tmp523 *tmp470 23
print *tmp504
print "%"
draw print 174 *tmp523 @right 0 0 0
print *tmp504
print "%"
draw print 175 *tmp523 @right 0 0 0
drawflush display1
jump 764 always 0 0
jump 512 notEqual .page 1
read :displayStorage:tail bank2 510
jump 492 equal .pageSwitched false
read .lastTail bank2 511
draw col %[gold] 0 0 0 0 0
print "Resources"
draw print 11 206 @left 0 0 0
print "Resources"
draw print 12 206 @left 0 0 0
draw col %[white] 0 0 0 0 0
draw image 12 182 @copper 15 0 0
draw image 12 161 @lead 15 0 0
draw image 12 140 @sand 15 0 0
draw image 12 119 @coal 15 0 0
draw image 12 98 @graphite 15 0 0
draw image 12 77 @silicon 15 0 0
draw image 12 56 @titanium 15 0 0
draw image 12 35 @metaglass 15 0 0
draw image 12 14 @thorium 15 0 0
set :drawHeader*retaddr 494
jump 785 always 0 0
drawflush display1
jump 764 greaterThan .lastTail :displayStorage:tail
read :displayStorage:accumulator bank2 .lastTail
op add :displayStorage:x 25 .lastTail
op sub :displayStorage:y.1 190 8
set :displayStorage:i 0
op and *tmp541 :displayStorage:accumulator 0b11111
op sub :displayStorage:value *tmp541 8
select *tmp544 greaterThanEq *tmp541 8 %[green] %[red]
draw col *tmp544 0 0 0 0 0
draw rect :displayStorage:x :displayStorage:y.1 1 :displayStorage:value 0 0
op sub :displayStorage:y.1 :displayStorage:y.1 21
op shr :displayStorage:accumulator :displayStorage:accumulator 5
op add :displayStorage:i :displayStorage:i 1
jump 500 lessThan :displayStorage:i 9
drawflush display1
op add .lastTail .lastTail 1
jump 764 always 0 0
jump 703 notEqual .page 2
set :drawHeader*retaddr 515
jump 785 always 0 0
set :displayBaseMap:limit 0
draw reset 0 0 0 0 0 0
draw translate 90 105 0 0 0 0
draw scale 7.333333333333333 7.333333333333333 0 0 0 0
jump 533 equal .pageSwitched false
draw image 0 0 @core-shard 6 0 0
draw reset 0 0 0 0 0 0
draw col %[gold] 0 0 0 0 0
print "Base map"
draw print 90 206 @center 0 0 0
print "Base map"
draw print 91 206 @center 0 0 0
draw reset 0 0 0 0 0 0
draw translate 90 105 0 0 0 0
draw scale 7.333333333333333 7.333333333333333 0 0 0 0
draw col %[white] 0 0 0 0 0
drawflush display1
set :displayBaseMap:limit 5
set :displayBaseMap:counter 0
set :displayBaseMap:cfg "AJEMJJ-graphite-press0"
set *tmp558 537
jump 641 always 0 0
set :displayBaseMap:cfg "AJTJK-battery1"
set *tmp558 540
jump 641 always 0 0
set :displayBaseMap:cfg "ALTJL-battery2"
set *tmp558 543
jump 641 always 0 0
set :displayBaseMap:cfg "AJRJM-combustion-generator3"
set *tmp558 546
jump 641 always 0 0
set :displayBaseMap:cfg "ALMQJN-silicon-smelter4"
set *tmp558 549
jump 641 always 0 0
set :displayBaseMap:cfg "A{LNJO-inverted-sorter5"
set *tmp558 552
jump 641 always 0 0
set :displayBaseMap:cfg "A©JNJP-unloader6"
set *tmp558 555
jump 641 always 0 0
set :displayBaseMap:cfg "A{HNJQ-inverted-sorter7"
set *tmp558 558
jump 641 always 0 0
set :displayBaseMap:cfg "AJPJR-underflow-gate8"
set *tmp558 561
jump 641 always 0 0
set :displayBaseMap:cfg "AÕFFJS-micro-processor9"
set *tmp558 564
jump 641 always 0 0
set :displayBaseMap:cfg "AFHJT-power-node10"
set *tmp558 567
jump 641 always 0 0
set :displayBaseMap:cfg "A©FJJU-unloader11"
set *tmp558 570
jump 641 always 0 0
set :displayBaseMap:cfg "A~DJJV-overflow-gate12"
set *tmp558 573
jump 641 always 0 0
set :displayBaseMap:cfg "A¾BFLW-air-factory13"
set *tmp558 576
jump 641 always 0 0
set :displayBaseMap:cfg "A©NHJX-unloader14"
set *tmp558 579
jump 641 always 0 0
set :displayBaseMap:cfg "A{NJJY-inverted-sorter15"
set *tmp558 582
jump 641 always 0 0
set :displayBaseMap:cfg "ANOMJZ-kiln16"
set *tmp558 585
jump 641 always 0 0
set :displayBaseMap:cfg "AÜAOJ[-liquid-container17"
set *tmp558 588
jump 641 always 0 0
set :displayBaseMap:cfg "A¡ASJ\-water-extractor18"
set *tmp558 591
jump 641 always 0 0
set :displayBaseMap:cfg "AAKJ]-steam-generator19"
set *tmp558 594
jump 641 always 0 0
set :displayBaseMap:cfg "ALQIJ^-silicon-smelter20"
set *tmp558 597
jump 641 always 0 0
set :displayBaseMap:cfg "AKFRJ_-multi-press21"
set *tmp558 600
jump 641 always 0 0
set :displayBaseMap:cfg "A©HFJ`-unloader22"
set *tmp558 603
jump 641 always 0 0
set :displayBaseMap:cfg "A{HDJa-inverted-sorter23"
set *tmp558 606
jump 641 always 0 0
set :displayBaseMap:cfg "AÀF@Lb-additive-reconstructor24"
set *tmp558 609
jump 641 always 0 0
set :displayBaseMap:cfg "AÁNBJc-multiplicative-reconstructor25"
set *tmp558 612
jump 641 always 0 0
set :displayBaseMap:cfg "AXPRJd-pulverizer26"
set *tmp558 615
jump 641 always 0 0
set :displayBaseMap:cfg "A~PPJe-overflow-gate27"
set *tmp558 618
jump 641 always 0 0
set :displayBaseMap:cfg "APTJf-power-node28"
set *tmp558 621
jump 641 always 0 0
set :displayBaseMap:cfg "A©RPJg-unloader29"
set *tmp558 624
jump 641 always 0 0
set :displayBaseMap:cfg "A¨SSJh-container30"
set *tmp558 627
jump 641 always 0 0
set :displayBaseMap:cfg "AXTPJi-pulverizer31"
set *tmp558 630
jump 641 always 0 0
set :displayBaseMap:cfg "A~RNJj-overflow-gate32"
set *tmp558 633
jump 641 always 0 0
set :displayBaseMap:cfg "A~RLJk-overflow-gate33"
set *tmp558 636
jump 641 always 0 0
set :displayBaseMap:cfg "AXTNJl-pulverizer34"
set *tmp558 639
jump 641 always 0 0
set :displayBaseMap:cfg "AXTLJm-pulverizer35"
set *tmp558 702
jump 643 notEqual :displayBaseMap:cfg "AXPRJd-pulverizer26"
jump 764 equal .scrap false
op add :displayBaseMap:counter :displayBaseMap:counter 1
jump 651 lessThanEq :displayBaseMap:counter :displayBaseMap:limit
set :drawHeader*retaddr 647
jump 785 always 0 0
draw reset 0 0 0 0 0 0
draw translate 90 105 0 0 0 0
draw scale 7.333333333333333 7.333333333333333 0 0 0 0
set :displayBaseMap:counter 0
set :drawBlock:cfg :displayBaseMap:cfg
set :drawBlock*retaddr 654
jump 938 always 0 0
set :displayBaseMap:index .recentBuildIndex
jump 695 lessThan :displayBaseMap:index 0
set .recentBuildIndex -1
read @counter "ʴʲʰʮʬʪʨʦʤʢʠʞʜʚʘʖʔʒʴʲʰʮʬʪʨʦʤʢʠʞʜʚʘʖʔʒ" :displayBaseMap:index
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "AÜAOJ[-liquid-container17" "AXTLJm-pulverizer35" # Origin: 657, keys: 17, 35
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "ANOMJZ-kiln16" "AXTNJl-pulverizer34" # Origin: 657, keys: 16, 34
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "A{NJJY-inverted-sorter15" "A~RLJk-overflow-gate33" # Origin: 657, keys: 15, 33
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "A©NHJX-unloader14" "A~RNJj-overflow-gate32" # Origin: 657, keys: 14, 32
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "A¾BFLW-air-factory13" "AXTPJi-pulverizer31" # Origin: 657, keys: 13, 31
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "A~DJJV-overflow-gate12" "A¨SSJh-container30" # Origin: 657, keys: 12, 30
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "A©FJJU-unloader11" "A©RPJg-unloader29" # Origin: 657, keys: 11, 29
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "AFHJT-power-node10" "APTJf-power-node28" # Origin: 657, keys: 10, 28
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "AÕFFJS-micro-processor9" "A~PPJe-overflow-gate27" # Origin: 657, keys: 9, 27
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "AJPJR-underflow-gate8" "AXPRJd-pulverizer26" # Origin: 657, keys: 8, 26
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "A{HNJQ-inverted-sorter7" "AÁNBJc-multiplicative-reconstructor25" # Origin: 657, keys: 7, 25
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "A©JNJP-unloader6" "AÀF@Lb-additive-reconstructor24" # Origin: 657, keys: 6, 24
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "A{LNJO-inverted-sorter5" "A{HDJa-inverted-sorter23" # Origin: 657, keys: 5, 23
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "ALMQJN-silicon-smelter4" "A©HFJ`-unloader22" # Origin: 657, keys: 4, 22
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "AJRJM-combustion-generator3" "AKFRJ_-multi-press21" # Origin: 657, keys: 3, 21
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "ALTJL-battery2" "ALQIJ^-silicon-smelter20" # Origin: 657, keys: 2, 20
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "AJTJK-battery1" "AAKJ]-steam-generator19" # Origin: 657, keys: 1, 19
jump 693 always 0 0
select :drawBlock:cfg lessThan :displayBaseMap:index 18 "AJEMJJ-graphite-press0" "A¡ASJ\-water-extractor18" # Origin: 657, keys: 0, 18
set :drawBlock*retaddr 695
jump 938 always 0 0
sensor *tmp573 switch1 @enabled
jump 700 equal *tmp573 false
draw clear 0 0 32 0 0 0
drawflush display1
jump 764 always 0 0
drawflush display1
set @counter *tmp558
jump 764 always 0 0
op sub :displayLog:page .page 3
read :displayLog:logPosition bank1 511
op sub *tmp578 510 :displayLog:logPosition
op idiv *tmp579 *tmp578 39
op add *tmp580 *tmp579 1
op max :displayLog:pages 1 *tmp580
op add .numPages :displayLog:pages 3
op mul *tmp583 39 :displayLog:page
op sub :displayLog:start 511 *tmp583
op sub *tmp585 :displayLog:start 39
op max :displayLog:stop :displayLog:logPosition *tmp585
jump 726 equal .pageSwitched false
draw col %[gold] 0 0 0 0 0
print "Build records"
draw print 4 206 @left 0 0 0
print "Build records"
draw print 5 206 @left 0 0 0
op sub *tmp589 .page 2
print *tmp589
print "/"
print :displayLog:pages
draw print 172 206 @right 0 0 0
set .lastRecord :displayLog:start
set :drawHeader*retaddr 728
jump 785 always 0 0
op sub :displayLog:position .lastRecord 1
jump 762 lessThan :displayLog:position :displayLog:stop
read :displayLog:record bank1 :displayLog:position
op sub *tmp593 :displayLog:start :displayLog:position
op sub *tmp594 *tmp593 1
op idiv :displayRecord:col *tmp594 13
op mod :displayRecord:row *tmp594 13
op mul *tmp597 58 :displayRecord:col
op add :displayRecord:x 11 *tmp597
op mul *tmp599 15 :displayRecord:row
op sub :displayRecord:y 189 *tmp599
op mod :displayRecord:id :displayLog:record 1000
lookup block *tmp603 :displayRecord:id
jump 744 lessThanEq :displayRecord:id @blockCount
op sub *tmp604 :displayRecord:id @blockCount
lookup unit *tmp603 *tmp604
op div *tmp607 :displayLog:record 1000
op idiv :displayRecord:t *tmp607 120
op idiv :displayRecord:m :displayRecord:t 60
op mod :displayRecord:s :displayRecord:t 60
select *tmp613 lessThan :displayRecord:s 10 "0" ""
print :displayRecord:m
print ":"
print *tmp613
draw image :displayRecord:x :displayRecord:y *tmp603 14 0 0
op add *tmp615 :displayRecord:x 44
op add *tmp616 :displayRecord:y 2
print :displayRecord:s
draw print *tmp615 *tmp616 @right 0 0 0
drawflush display1
sensor *tmp617 switch1 @enabled
jump 762 notEqual *tmp617 false
op sub :displayLog:position :displayLog:position 1
jump 730 greaterThanEq :displayLog:position :displayLog:stop
op add .lastRecord :displayLog:stop 1
drawflush display1
jump 768 lessThanEq .megas 0
print "[gold]All done.[]\nNothing more to see here.\nGo home.\n"
printflush message1
jump 776 always 0 0
print "[gold]Building {0}\n==================================[]\n{0}\n{0}{0} ({0})\n{0}\n"
format .nextBlock
format .status1
format .status2
format .item2
format .block2
format .status3
printflush message1
sensor .pageSwitched switch1 @enabled
jump 16 equal .pageSwitched false
control enabled switch1 false 0 0 0
op add *tmp627 .page 1
op mod .page *tmp627 .numPages
drawflush null
draw reset 0 0 0 0 0 0
draw clear 0 0 32 0 0 0
jump 16 always 0 0
draw reset 0 0 0 0 0 0
draw color 0 0 32 255 0 0
draw rect 0 217 200 300 0 0
jump 809 lessThanEq .megas 0
draw col %[gold] 0 0 0 0 0
draw scale 3.5 3.5 0 0 0 0
read *tmp0 processor1 "time"
op idiv :drawHeader:t *tmp0 120
op idiv :drawHeader:m :drawHeader:t 60
op mod :drawHeader:s :drawHeader:t 60
select *tmp636 lessThan :drawHeader:s 10 "0" ""
print :drawHeader:m
print ":"
print *tmp636
print :drawHeader:s
draw print 25 71 @center 0 0 0
print :drawHeader:m
print ":"
print *tmp636
print :drawHeader:s
draw print 26 71 @center 0 0 0
draw col %[white] 0 0 0 0 0
draw reset 0 0 0 0 0 0
set @counter :drawHeader*retaddr
draw col %[gold] 0 0 0 0 0
print "Goal"
draw print 42 261 @bottom 0 0 0
print "Goal"
draw print 43 261 @bottom 0 0 0
draw col %[white] 0 0 0 0 0
jump 818 equal .missing false
draw image 16 264 .missing 12 0 0
set .missing false
jump 821 equal .nextMultiReco false
draw image 42 237 .nextMultiReco 32 0 0
jump 854 always 0 0
op add *tmp641 .nextBlock .nextFactory
op add :drawHeader:count *tmp641 .nextAddReco
jump 828 notEqual :drawHeader:count 3
draw image 22 244 .nextBlock 18 0 0
draw image 42 244 .nextFactory 18 0 0
draw image 62 244 .nextAddReco 18 0 0
jump 854 always 0 0
jump 842 notEqual :drawHeader:count 2
set :drawHeader:x 27
set :drawHeader:goal .nextBlock
jump 834 equal :drawHeader:goal null
draw image 27 240 :drawHeader:goal 25 0 0
op add :drawHeader:x 27 30
set :drawHeader:goal .nextFactory
jump 838 equal :drawHeader:goal null
draw image :drawHeader:x 240 :drawHeader:goal 25 0 0
op add :drawHeader:x :drawHeader:x 30
set :drawHeader:goal .nextAddReco
jump 854 equal :drawHeader:goal null
draw image :drawHeader:x 240 :drawHeader:goal 25 0 0
jump 854 always 0 0
jump 854 notEqual :drawHeader:count 1
set :drawHeader:goal.1 .nextBlock
jump 847 equal :drawHeader:goal.1 null
draw image 42 237 :drawHeader:goal.1 32 0 0
jump 854 always 0 0
set :drawHeader:goal.1 .nextFactory
jump 851 equal :drawHeader:goal.1 null
draw image 42 237 :drawHeader:goal.1 32 0 0
jump 854 always 0 0
set :drawHeader:goal.1 .nextAddReco
jump 854 equal :drawHeader:goal.1 null
draw image 42 237 :drawHeader:goal.1 32 0 0
set :drawHeader:tt @second
read *tmp0 processor1 "time"
op idiv :drawHeader:t.1 *tmp0 120
op idiv :drawHeader:m.1 :drawHeader:t.1 60
op mod :drawHeader:s.1 :drawHeader:t.1 60
select *tmp660 lessThan :drawHeader:s.1 10 "0" ""
print :drawHeader:m.1
print ":{0}{0} (x{0}.{0})"
format *tmp660
format :drawHeader:s.1
op mul *tmp661 10 :drawHeader:t.1
op div *tmp662 *tmp661 :drawHeader:tt
op round :drawHeader:ratio *tmp662 0
op idiv *tmp664 :drawHeader:ratio 10
op mod *tmp665 :drawHeader:ratio 10
format *tmp664
format *tmp665
draw print 174 272 @topRight 0 0 0
jump 892 equal A¨SSJh-container30 null
sensor :drawHeader:count.1 A¨SSJh-container30 @scrap
op log10 *tmp669 :drawHeader:count.1 0
op floor :drawHeader:len *tmp669 0
print "x"
print :drawHeader:count.1
draw print 174 255 @topRight 0 0 0
op mul *tmp672 7 :drawHeader:len
op sub *tmp673 154 *tmp672
draw image *tmp673 246 @scrap 12 0 0
sensor :drawHeader:count.1 A¨SSJh-container30 @sand
op log10 *tmp675 :drawHeader:count.1 0
op floor :drawHeader:len *tmp675 0
print "x"
print :drawHeader:count.1
draw print 124 255 @topRight 0 0 0
op mul *tmp678 7 :drawHeader:len
op sub *tmp679 104 *tmp678
draw image *tmp679 246 @sand 12 0 0
jump 913 always 0 0
jump 903 equal .titaniumDrill false
sensor *tmp681 .titaniumDrill @titanium
op max :drawHeader:count.2 .titaniumDrillCount *tmp681
op log10 *tmp683 :drawHeader:count.2 0
op floor :drawHeader:len.1 *tmp683 0
print "x"
print :drawHeader:count.2
draw print 174 255 @topRight 0 0 0
op mul *tmp686 7 :drawHeader:len.1
op sub *tmp687 154 *tmp686
draw image *tmp687 246 @titanium 12 0 0
jump 913 equal .thoriumContainer false
sensor :drawHeader:count.3 .thoriumContainer @thorium
op log10 *tmp690 :drawHeader:count.3 0
op floor :drawHeader:len.2 *tmp690 0
print "x"
print :drawHeader:count.3
draw print 124 255 @topRight 0 0 0
op mul *tmp693 7 :drawHeader:len.2
op sub *tmp694 104 *tmp693
draw image *tmp694 246 @thorium 12 0 0
set :drawHeader:x.4 174
draw col %[white] 0 0 0 0 0
set :drawUnitCount:count .polys
jump 922 lessThanEq :drawUnitCount:count 0
draw image 154 227 @poly 12 0 0
print "x"
print :drawUnitCount:count
draw print 174 229 @right 0 0 0
op sub :drawHeader:x.4 174 30
set :drawUnitCount.1:count .monos
jump 930 lessThanEq :drawUnitCount.1:count 0
op sub *tmp700 :drawHeader:x.4 20
draw image *tmp700 227 @mono 12 0 0
print "x"
print :drawUnitCount.1:count
draw print :drawHeader:x.4 229 @right 0 0 0
op sub :drawHeader:x.4 :drawHeader:x.4 30
set :drawUnitCount.2:count .flares
jump 937 lessThanEq :drawUnitCount.2:count 0
op sub *tmp703 :drawHeader:x.4 20
draw image *tmp703 227 @flare 12 0 0
print "x"
print :drawUnitCount.2:count
draw print :drawHeader:x.4 229 @right 0 0 0
set @counter :drawHeader*retaddr
read *tmp705 :drawBlock:cfg 1
op sub *tmp706 *tmp705 74
lookup block :unpackCfg:type *tmp706
read *tmp709 :drawBlock:cfg 2
op sub *tmp710 *tmp709 74
read *tmp713 :drawBlock:cfg 3
op sub *tmp714 *tmp713 74
read *tmp717 :drawBlock:cfg 4
op sub :unpackCfg:rotation *tmp717 74
read *tmp720 :drawBlock:cfg 5
op sub :unpackCfg:ind *tmp720 74
sensor :unpackCfg:size :unpackCfg:type @size
op shl *tmp730 1 :unpackCfg:ind
op and :drawBlock:built .blocksBuilt *tmp730
op add *tmp732 :drawBlock:built .pageSwitched
jump 959 equal *tmp732 0
select *tmp735 notEqual :drawBlock:built false %[white] %408040ff
draw col *tmp735 0 0 0 0 0
op mul *tmp738 2 :unpackCfg:size
op mul *tmp739 90 :unpackCfg:rotation
draw image *tmp710 *tmp714 :unpackCfg:type *tmp738 *tmp739 0
set @counter :drawBlock*retaddr
draw triangle AJEMJJ-graphite-press0 ALTJL-battery2 AJRJM-combustion-generator3 ALMQJN-silicon-smelter4 A{LNJO-inverted-sorter5 A©JNJP-unloader6
draw triangle A{HNJQ-inverted-sorter7 AJPJR-underflow-gate8 AÕFFJS-micro-processor9 AFHJT-power-node10 A©FJJU-unloader11 A~DJJV-overflow-gate12
draw triangle A©NHJX-unloader14 A{NJJY-inverted-sorter15 ANOMJZ-kiln16 A¡ASJ\-water-extractor18 AAKJ]-steam-generator19 ALQIJ^-silicon-smelter20
draw triangle AKFRJ_-multi-press21 A©HFJ`-unloader22 A{HDJa-inverted-sorter23 AXPRJd-pulverizer26 A~PPJe-overflow-gate27 APTJf-power-node28
draw triangle A©RPJg-unloader29 AXTPJi-pulverizer31 A~RNJj-overflow-gate32 A~RLJk-overflow-gate33 AXTNJl-pulverizer34 AXTLJm-pulverizer35
draw triangle .thoriumDrill 0 0 0 0 0
print "Compiled by Mindcode - github.com/cardillan/mindcode"
# Mlog code compiled with support for symbolic labels
# You can safely add/remove instructions, in most parts of the program
# Pay closer attention to sections of the program manipulating @counter
jump label_2 always 0 0
jump label_395 always 0 0
label_2:
    read *tmp32 processor2 "*signature"
    jump label_2 notEqual *tmp32 "0:v1"
    set .drills 0
    set *signature "880295ee1d8ade1d:v1"
                # Function: void backgroundProcess()
    label_6:
                jump label_12 notEqual .core null
                    label_7:
                        ubind @flare
                        ulocate building core false @copper .coreX .coreY 0 .core
                    jump label_7 equal .core null
                    sensor .coreX .core @x
                    sensor .coreY .core @y
            label_12:
                    set :backgroundProcess:count 0
                    set :backgroundProcess:drill water
                    set :backgroundProcess:unit .units*0
                    jump label_393 equal :backgroundProcess:drill null
                    sensor *tmp43 :backgroundProcess:drill @titanium
                    set :backgroundProcess:count *tmp43
                    sensor *tmp44 :backgroundProcess:unit @controller
                    jump label_37 equal *tmp44 @this
                        # Function: def findFreeUnit(in unit_type, in initial_flag)
                            ubind @flare
                            jump label_24 notEqual @unit null
                                set *tmp47 null
                                    jump label_35 always 0 0
                            label_24:
                            set :findFreeUnit:first_unit @unit
                            label_25:
                                sensor *tmp50 @unit @controlled
                                jump label_30 notEqual *tmp50 0
                                    ucontrol flag 0 0 0 0 0
                                    set *tmp47 @unit
                                        jump label_35 always 0 0
                                label_30:
                                    sensor *tmp53 :findFreeUnit:first_unit @dead
                                    select :findFreeUnit:first_unit equal *tmp53 1 @unit :findFreeUnit:first_unit
                                ubind @flare
                            jump label_25 notEqual :findFreeUnit:first_unit @unit
                            set *tmp47 null
                        label_35:
                        set :backgroundProcess:unit *tmp47
                        jump label_50 equal *tmp47 null
                    # Function: void serviceDrill(in drill, in unit)
                    label_37:
                        ubind :backgroundProcess:unit
                        sensor :serviceDrill:item @unit @firstItem
                        jump label_43 notEqual :serviceDrill:item @titanium
                            ucontrol approach .coreX .coreY 4 0 0
                            ucontrol itemDrop .core 10 0 0 0
                            jump label_50 always 0 0
                        label_43:
                            jump label_49 notEqual :serviceDrill:item null
                                sensor *tmp65 :backgroundProcess:drill @x
                                sensor *tmp66 :backgroundProcess:drill @y
                                ucontrol approach *tmp65 *tmp66 4 0 0
                                ucontrol itemTake :backgroundProcess:drill @titanium 10 0 0
                                jump label_50 always 0 0
                            label_49:
                                ucontrol itemDrop @air 10 0 0 0
                label_50:
                    set .units*0 :backgroundProcess:unit
                    set :backgroundProcess:drill slag
                    set :backgroundProcess:unit .units*1
                    jump label_393 equal :backgroundProcess:drill null
                    sensor *tmp43 :backgroundProcess:drill @titanium
                    op add :backgroundProcess:count :backgroundProcess:count *tmp43
                    sensor *tmp44 :backgroundProcess:unit @controller
                    jump label_75 equal *tmp44 @this
                        # Function: def findFreeUnit(in unit_type, in initial_flag)
                            ubind @flare
                            jump label_62 notEqual @unit null
                                set *tmp47 null
                                    jump label_73 always 0 0
                            label_62:
                            set :findFreeUnit:first_unit @unit
                            label_63:
                                sensor *tmp50 @unit @controlled
                                jump label_68 notEqual *tmp50 0
                                    ucontrol flag 0 0 0 0 0
                                    set *tmp47 @unit
                                        jump label_73 always 0 0
                                label_68:
                                    sensor *tmp53 :findFreeUnit:first_unit @dead
                                    select :findFreeUnit:first_unit equal *tmp53 1 @unit :findFreeUnit:first_unit
                                ubind @flare
                            jump label_63 notEqual :findFreeUnit:first_unit @unit
                            set *tmp47 null
                        label_73:
                        set :backgroundProcess:unit *tmp47
                        jump label_88 equal *tmp47 null
                    # Function: void serviceDrill(in drill, in unit)
                    label_75:
                        ubind :backgroundProcess:unit
                        sensor :serviceDrill:item @unit @firstItem
                        jump label_81 notEqual :serviceDrill:item @titanium
                            ucontrol approach .coreX .coreY 4 0 0
                            ucontrol itemDrop .core 10 0 0 0
                            jump label_88 always 0 0
                        label_81:
                            jump label_87 notEqual :serviceDrill:item null
                                sensor *tmp65 :backgroundProcess:drill @x
                                sensor *tmp66 :backgroundProcess:drill @y
                                ucontrol approach *tmp65 *tmp66 4 0 0
                                ucontrol itemTake :backgroundProcess:drill @titanium 10 0 0
                                jump label_88 always 0 0
                            label_87:
                                ucontrol itemDrop @air 10 0 0 0
                label_88:
                    set .units*1 :backgroundProcess:unit
                    set :backgroundProcess:drill oil
                    set :backgroundProcess:unit .units*2
                    jump label_393 equal :backgroundProcess:drill null
                    sensor *tmp43 :backgroundProcess:drill @titanium
                    op add :backgroundProcess:count :backgroundProcess:count *tmp43
                    sensor *tmp44 :backgroundProcess:unit @controller
                    jump label_113 equal *tmp44 @this
                        # Function: def findFreeUnit(in unit_type, in initial_flag)
                            ubind @flare
                            jump label_100 notEqual @unit null
                                set *tmp47 null
                                    jump label_111 always 0 0
                            label_100:
                            set :findFreeUnit:first_unit @unit
                            label_101:
                                sensor *tmp50 @unit @controlled
                                jump label_106 notEqual *tmp50 0
                                    ucontrol flag 0 0 0 0 0
                                    set *tmp47 @unit
                                        jump label_111 always 0 0
                                label_106:
                                    sensor *tmp53 :findFreeUnit:first_unit @dead
                                    select :findFreeUnit:first_unit equal *tmp53 1 @unit :findFreeUnit:first_unit
                                ubind @flare
                            jump label_101 notEqual :findFreeUnit:first_unit @unit
                            set *tmp47 null
                        label_111:
                        set :backgroundProcess:unit *tmp47
                        jump label_126 equal *tmp47 null
                    # Function: void serviceDrill(in drill, in unit)
                    label_113:
                        ubind :backgroundProcess:unit
                        sensor :serviceDrill:item @unit @firstItem
                        jump label_119 notEqual :serviceDrill:item @titanium
                            ucontrol approach .coreX .coreY 4 0 0
                            ucontrol itemDrop .core 10 0 0 0
                            jump label_126 always 0 0
                        label_119:
                            jump label_125 notEqual :serviceDrill:item null
                                sensor *tmp65 :backgroundProcess:drill @x
                                sensor *tmp66 :backgroundProcess:drill @y
                                ucontrol approach *tmp65 *tmp66 4 0 0
                                ucontrol itemTake :backgroundProcess:drill @titanium 10 0 0
                                jump label_126 always 0 0
                            label_125:
                                ucontrol itemDrop @air 10 0 0 0
                label_126:
                    set .units*2 :backgroundProcess:unit
                    set :backgroundProcess:drill cryofluid
                    set :backgroundProcess:unit .units*3
                    jump label_393 equal :backgroundProcess:drill null
                    sensor *tmp43 :backgroundProcess:drill @titanium
                    op add :backgroundProcess:count :backgroundProcess:count *tmp43
                    sensor *tmp44 :backgroundProcess:unit @controller
                    jump label_151 equal *tmp44 @this
                        # Function: def findFreeUnit(in unit_type, in initial_flag)
                            ubind @flare
                            jump label_138 notEqual @unit null
                                set *tmp47 null
                                    jump label_149 always 0 0
                            label_138:
                            set :findFreeUnit:first_unit @unit
                            label_139:
                                sensor *tmp50 @unit @controlled
                                jump label_144 notEqual *tmp50 0
                                    ucontrol flag 0 0 0 0 0
                                    set *tmp47 @unit
                                        jump label_149 always 0 0
                                label_144:
                                    sensor *tmp53 :findFreeUnit:first_unit @dead
                                    select :findFreeUnit:first_unit equal *tmp53 1 @unit :findFreeUnit:first_unit
                                ubind @flare
                            jump label_139 notEqual :findFreeUnit:first_unit @unit
                            set *tmp47 null
                        label_149:
                        set :backgroundProcess:unit *tmp47
                        jump label_164 equal *tmp47 null
                    # Function: void serviceDrill(in drill, in unit)
                    label_151:
                        ubind :backgroundProcess:unit
                        sensor :serviceDrill:item @unit @firstItem
                        jump label_157 notEqual :serviceDrill:item @titanium
                            ucontrol approach .coreX .coreY 4 0 0
                            ucontrol itemDrop .core 10 0 0 0
                            jump label_164 always 0 0
                        label_157:
                            jump label_163 notEqual :serviceDrill:item null
                                sensor *tmp65 :backgroundProcess:drill @x
                                sensor *tmp66 :backgroundProcess:drill @y
                                ucontrol approach *tmp65 *tmp66 4 0 0
                                ucontrol itemTake :backgroundProcess:drill @titanium 10 0 0
                                jump label_164 always 0 0
                            label_163:
                                ucontrol itemDrop @air 10 0 0 0
                label_164:
                    set .units*3 :backgroundProcess:unit
                    set :backgroundProcess:drill neoplasm
                    set :backgroundProcess:unit .units*4
                    jump label_393 equal :backgroundProcess:drill null
                    sensor *tmp43 :backgroundProcess:drill @titanium
                    op add :backgroundProcess:count :backgroundProcess:count *tmp43
                    sensor *tmp44 :backgroundProcess:unit @controller
                    jump label_189 equal *tmp44 @this
                        # Function: def findFreeUnit(in unit_type, in initial_flag)
                            ubind @flare
                            jump label_176 notEqual @unit null
                                set *tmp47 null
                                    jump label_187 always 0 0
                            label_176:
                            set :findFreeUnit:first_unit @unit
                            label_177:
                                sensor *tmp50 @unit @controlled
                                jump label_182 notEqual *tmp50 0
                                    ucontrol flag 0 0 0 0 0
                                    set *tmp47 @unit
                                        jump label_187 always 0 0
                                label_182:
                                    sensor *tmp53 :findFreeUnit:first_unit @dead
                                    select :findFreeUnit:first_unit equal *tmp53 1 @unit :findFreeUnit:first_unit
                                ubind @flare
                            jump label_177 notEqual :findFreeUnit:first_unit @unit
                            set *tmp47 null
                        label_187:
                        set :backgroundProcess:unit *tmp47
                        jump label_202 equal *tmp47 null
                    # Function: void serviceDrill(in drill, in unit)
                    label_189:
                        ubind :backgroundProcess:unit
                        sensor :serviceDrill:item @unit @firstItem
                        jump label_195 notEqual :serviceDrill:item @titanium
                            ucontrol approach .coreX .coreY 4 0 0
                            ucontrol itemDrop .core 10 0 0 0
                            jump label_202 always 0 0
                        label_195:
                            jump label_201 notEqual :serviceDrill:item null
                                sensor *tmp65 :backgroundProcess:drill @x
                                sensor *tmp66 :backgroundProcess:drill @y
                                ucontrol approach *tmp65 *tmp66 4 0 0
                                ucontrol itemTake :backgroundProcess:drill @titanium 10 0 0
                                jump label_202 always 0 0
                            label_201:
                                ucontrol itemDrop @air 10 0 0 0
                label_202:
                    set .units*4 :backgroundProcess:unit
                    set :backgroundProcess:drill hydrogen
                    set :backgroundProcess:unit .units*5
                    jump label_393 equal :backgroundProcess:drill null
                    sensor *tmp43 :backgroundProcess:drill @titanium
                    op add :backgroundProcess:count :backgroundProcess:count *tmp43
                    sensor *tmp44 :backgroundProcess:unit @controller
                    jump label_227 equal *tmp44 @this
                        # Function: def findFreeUnit(in unit_type, in initial_flag)
                            ubind @flare
                            jump label_214 notEqual @unit null
                                set *tmp47 null
                                    jump label_225 always 0 0
                            label_214:
                            set :findFreeUnit:first_unit @unit
                            label_215:
                                sensor *tmp50 @unit @controlled
                                jump label_220 notEqual *tmp50 0
                                    ucontrol flag 0 0 0 0 0
                                    set *tmp47 @unit
                                        jump label_225 always 0 0
                                label_220:
                                    sensor *tmp53 :findFreeUnit:first_unit @dead
                                    select :findFreeUnit:first_unit equal *tmp53 1 @unit :findFreeUnit:first_unit
                                ubind @flare
                            jump label_215 notEqual :findFreeUnit:first_unit @unit
                            set *tmp47 null
                        label_225:
                        set :backgroundProcess:unit *tmp47
                        jump label_240 equal *tmp47 null
                    # Function: void serviceDrill(in drill, in unit)
                    label_227:
                        ubind :backgroundProcess:unit
                        sensor :serviceDrill:item @unit @firstItem
                        jump label_233 notEqual :serviceDrill:item @titanium
                            ucontrol approach .coreX .coreY 4 0 0
                            ucontrol itemDrop .core 10 0 0 0
                            jump label_240 always 0 0
                        label_233:
                            jump label_239 notEqual :serviceDrill:item null
                                sensor *tmp65 :backgroundProcess:drill @x
                                sensor *tmp66 :backgroundProcess:drill @y
                                ucontrol approach *tmp65 *tmp66 4 0 0
                                ucontrol itemTake :backgroundProcess:drill @titanium 10 0 0
                                jump label_240 always 0 0
                            label_239:
                                ucontrol itemDrop @air 10 0 0 0
                label_240:
                    set .units*5 :backgroundProcess:unit
                    set :backgroundProcess:drill ozone
                    set :backgroundProcess:unit .units*6
                    jump label_393 equal :backgroundProcess:drill null
                    sensor *tmp43 :backgroundProcess:drill @titanium
                    op add :backgroundProcess:count :backgroundProcess:count *tmp43
                    sensor *tmp44 :backgroundProcess:unit @controller
                    jump label_265 equal *tmp44 @this
                        # Function: def findFreeUnit(in unit_type, in initial_flag)
                            ubind @flare
                            jump label_252 notEqual @unit null
                                set *tmp47 null
                                    jump label_263 always 0 0
                            label_252:
                            set :findFreeUnit:first_unit @unit
                            label_253:
                                sensor *tmp50 @unit @controlled
                                jump label_258 notEqual *tmp50 0
                                    ucontrol flag 0 0 0 0 0
                                    set *tmp47 @unit
                                        jump label_263 always 0 0
                                label_258:
                                    sensor *tmp53 :findFreeUnit:first_unit @dead
                                    select :findFreeUnit:first_unit equal *tmp53 1 @unit :findFreeUnit:first_unit
                                ubind @flare
                            jump label_253 notEqual :findFreeUnit:first_unit @unit
                            set *tmp47 null
                        label_263:
                        set :backgroundProcess:unit *tmp47
                        jump label_278 equal *tmp47 null
                    # Function: void serviceDrill(in drill, in unit)
                    label_265:
                        ubind :backgroundProcess:unit
                        sensor :serviceDrill:item @unit @firstItem
                        jump label_271 notEqual :serviceDrill:item @titanium
                            ucontrol approach .coreX .coreY 4 0 0
                            ucontrol itemDrop .core 10 0 0 0
                            jump label_278 always 0 0
                        label_271:
                            jump label_277 notEqual :serviceDrill:item null
                                sensor *tmp65 :backgroundProcess:drill @x
                                sensor *tmp66 :backgroundProcess:drill @y
                                ucontrol approach *tmp65 *tmp66 4 0 0
                                ucontrol itemTake :backgroundProcess:drill @titanium 10 0 0
                                jump label_278 always 0 0
                            label_277:
                                ucontrol itemDrop @air 10 0 0 0
                label_278:
                    set .units*6 :backgroundProcess:unit
                    set :backgroundProcess:drill cyanogen
                    set :backgroundProcess:unit .units*7
                    jump label_393 equal :backgroundProcess:drill null
                    sensor *tmp43 :backgroundProcess:drill @titanium
                    op add :backgroundProcess:count :backgroundProcess:count *tmp43
                    sensor *tmp44 :backgroundProcess:unit @controller
                    jump label_303 equal *tmp44 @this
                        # Function: def findFreeUnit(in unit_type, in initial_flag)
                            ubind @flare
                            jump label_290 notEqual @unit null
                                set *tmp47 null
                                    jump label_301 always 0 0
                            label_290:
                            set :findFreeUnit:first_unit @unit
                            label_291:
                                sensor *tmp50 @unit @controlled
                                jump label_296 notEqual *tmp50 0
                                    ucontrol flag 0 0 0 0 0
                                    set *tmp47 @unit
                                        jump label_301 always 0 0
                                label_296:
                                    sensor *tmp53 :findFreeUnit:first_unit @dead
                                    select :findFreeUnit:first_unit equal *tmp53 1 @unit :findFreeUnit:first_unit
                                ubind @flare
                            jump label_291 notEqual :findFreeUnit:first_unit @unit
                            set *tmp47 null
                        label_301:
                        set :backgroundProcess:unit *tmp47
                        jump label_316 equal *tmp47 null
                    # Function: void serviceDrill(in drill, in unit)
                    label_303:
                        ubind :backgroundProcess:unit
                        sensor :serviceDrill:item @unit @firstItem
                        jump label_309 notEqual :serviceDrill:item @titanium
                            ucontrol approach .coreX .coreY 4 0 0
                            ucontrol itemDrop .core 10 0 0 0
                            jump label_316 always 0 0
                        label_309:
                            jump label_315 notEqual :serviceDrill:item null
                                sensor *tmp65 :backgroundProcess:drill @x
                                sensor *tmp66 :backgroundProcess:drill @y
                                ucontrol approach *tmp65 *tmp66 4 0 0
                                ucontrol itemTake :backgroundProcess:drill @titanium 10 0 0
                                jump label_316 always 0 0
                            label_315:
                                ucontrol itemDrop @air 10 0 0 0
                label_316:
                    set .units*7 :backgroundProcess:unit
                    set :backgroundProcess:drill gallium
                    set :backgroundProcess:unit .units*8
                    jump label_393 equal :backgroundProcess:drill null
                    sensor *tmp43 :backgroundProcess:drill @titanium
                    op add :backgroundProcess:count :backgroundProcess:count *tmp43
                    sensor *tmp44 :backgroundProcess:unit @controller
                    jump label_341 equal *tmp44 @this
                        # Function: def findFreeUnit(in unit_type, in initial_flag)
                            ubind @flare
                            jump label_328 notEqual @unit null
                                set *tmp47 null
                                    jump label_339 always 0 0
                            label_328:
                            set :findFreeUnit:first_unit @unit
                            label_329:
                                sensor *tmp50 @unit @controlled
                                jump label_334 notEqual *tmp50 0
                                    ucontrol flag 0 0 0 0 0
                                    set *tmp47 @unit
                                        jump label_339 always 0 0
                                label_334:
                                    sensor *tmp53 :findFreeUnit:first_unit @dead
                                    select :findFreeUnit:first_unit equal *tmp53 1 @unit :findFreeUnit:first_unit
                                ubind @flare
                            jump label_329 notEqual :findFreeUnit:first_unit @unit
                            set *tmp47 null
                        label_339:
                        set :backgroundProcess:unit *tmp47
                        jump label_354 equal *tmp47 null
                    # Function: void serviceDrill(in drill, in unit)
                    label_341:
                        ubind :backgroundProcess:unit
                        sensor :serviceDrill:item @unit @firstItem
                        jump label_347 notEqual :serviceDrill:item @titanium
                            ucontrol approach .coreX .coreY 4 0 0
                            ucontrol itemDrop .core 10 0 0 0
                            jump label_354 always 0 0
                        label_347:
                            jump label_353 notEqual :serviceDrill:item null
                                sensor *tmp65 :backgroundProcess:drill @x
                                sensor *tmp66 :backgroundProcess:drill @y
                                ucontrol approach *tmp65 *tmp66 4 0 0
                                ucontrol itemTake :backgroundProcess:drill @titanium 10 0 0
                                jump label_354 always 0 0
                            label_353:
                                ucontrol itemDrop @air 10 0 0 0
                label_354:
                    set .units*8 :backgroundProcess:unit
                    set :backgroundProcess:drill nitrogen
                    set :backgroundProcess:unit .units*9
                    jump label_393 equal :backgroundProcess:drill null
                    sensor *tmp43 :backgroundProcess:drill @titanium
                    op add :backgroundProcess:count :backgroundProcess:count *tmp43
                    sensor *tmp44 :backgroundProcess:unit @controller
                    jump label_379 equal *tmp44 @this
                        # Function: def findFreeUnit(in unit_type, in initial_flag)
                            ubind @flare
                            jump label_366 notEqual @unit null
                                set *tmp47 null
                                    jump label_377 always 0 0
                            label_366:
                            set :findFreeUnit:first_unit @unit
                            label_367:
                                sensor *tmp50 @unit @controlled
                                jump label_372 notEqual *tmp50 0
                                    ucontrol flag 0 0 0 0 0
                                    set *tmp47 @unit
                                        jump label_377 always 0 0
                                label_372:
                                    sensor *tmp53 :findFreeUnit:first_unit @dead
                                    select :findFreeUnit:first_unit equal *tmp53 1 @unit :findFreeUnit:first_unit
                                ubind @flare
                            jump label_367 notEqual :findFreeUnit:first_unit @unit
                            set *tmp47 null
                        label_377:
                        set :backgroundProcess:unit *tmp47
                        jump label_392 equal *tmp47 null
                    # Function: void serviceDrill(in drill, in unit)
                    label_379:
                        ubind :backgroundProcess:unit
                        sensor :serviceDrill:item @unit @firstItem
                        jump label_385 notEqual :serviceDrill:item @titanium
                            ucontrol approach .coreX .coreY 4 0 0
                            ucontrol itemDrop .core 10 0 0 0
                            jump label_392 always 0 0
                        label_385:
                            jump label_391 notEqual :serviceDrill:item null
                                sensor *tmp65 :backgroundProcess:drill @x
                                sensor *tmp66 :backgroundProcess:drill @y
                                ucontrol approach *tmp65 *tmp66 4 0 0
                                ucontrol itemTake :backgroundProcess:drill @titanium 10 0 0
                                jump label_392 always 0 0
                            label_391:
                                ucontrol itemDrop @air 10 0 0 0
                label_392:
                    set .units*9 :backgroundProcess:unit
                label_393:
                    write :backgroundProcess:count processor2 ".titaniumDrillCount"
                    jump label_12 always 0 0
        # Function: export void addTitaniumDrill(in drill)
label_395:
        jump label_400 greaterThanEq .drills 9
                lookup liquid *tmp72 .drills
                sensor .titaniumDrills*elem *tmp72 @name
                write :addTitaniumDrill:drill @this .titaniumDrills*elem
            op add .drills .drills 1
        label_400:
    set :addTitaniumDrill*finished true
        jump label_6 always 0 0
        print "Compiled by Mindcode - github.com/cardillan/mindcode"
write 0 bank2 511
set .tail -1
write -1 bank2 510
set .nextTime 1800
read *tmp0 processor1 "time"
jump 4 lessThan *tmp0 .nextTime
op add .nextTime .nextTime 1800
read :localCore processor5 ".core"
jump 4 equal :localCore null
set *tmp9 100
read *tmp9 processor5 "thorium"
sensor :actual :localCore @thorium
op sub *tmp15 :actual *tmp9
op idiv :measure *tmp15 10
op min *tmp17 :measure 9
op max *tmp18 *tmp17 -9
op add :measure 9 *tmp18
set :accumulator :measure
set *tmp9 100
read *tmp9 processor5 "metaglass"
sensor :actual :localCore @metaglass
op sub *tmp15 :actual *tmp9
op idiv :measure *tmp15 10
op min *tmp17 :measure 9
op max *tmp18 *tmp17 -9
op add :measure 9 *tmp18
op shl *tmp20 :accumulator 5
op or :accumulator *tmp20 :measure
set *tmp9 100
read *tmp9 processor5 "titanium"
sensor :actual :localCore @titanium
op sub *tmp15 :actual *tmp9
op idiv :measure *tmp15 10
op min *tmp17 :measure 9
op max *tmp18 *tmp17 -9
op add :measure 9 *tmp18
op shl *tmp20 :accumulator 5
op or :accumulator *tmp20 :measure
set *tmp9 100
read *tmp9 processor5 "silicon"
sensor :actual :localCore @silicon
op sub *tmp15 :actual *tmp9
op idiv :measure *tmp15 10
op min *tmp17 :measure 9
op max *tmp18 *tmp17 -9
op add :measure 9 *tmp18
op shl *tmp20 :accumulator 5
op or :accumulator *tmp20 :measure
set *tmp9 100
read *tmp9 processor5 "graphite"
sensor :actual :localCore @graphite
op sub *tmp15 :actual *tmp9
op idiv :measure *tmp15 10
op min *tmp17 :measure 9
op max *tmp18 *tmp17 -9
op add :measure 9 *tmp18
op shl *tmp20 :accumulator 5
op or :accumulator *tmp20 :measure
sensor :actual :localCore @coal
op sub *tmp15 :actual 100
op idiv :measure *tmp15 10
op min *tmp17 :measure 9
op max *tmp18 *tmp17 -9
op add :measure 9 *tmp18
op shl *tmp20 :accumulator 5
op or :accumulator *tmp20 :measure
read *tmp25 processor5 ".sandContainer"
sensor :actual *tmp25 @sand
op sub *tmp15 :actual 100
op idiv :measure *tmp15 10
op min *tmp17 :measure 9
op max *tmp18 *tmp17 -9
op add :measure 9 *tmp18
op shl *tmp20 :accumulator 5
op or :accumulator *tmp20 :measure
set *tmp9 100
read *tmp9 processor5 "lead"
sensor :actual :localCore @lead
op sub *tmp15 :actual *tmp9
op idiv :measure *tmp15 10
op min *tmp17 :measure 9
op max *tmp18 *tmp17 -9
op add :measure 9 *tmp18
op shl *tmp20 :accumulator 5
op or :accumulator *tmp20 :measure
set *tmp9 100
read *tmp9 processor5 "copper"
sensor :actual :localCore @copper
op sub *tmp15 :actual *tmp9
op idiv :measure *tmp15 10
op min *tmp17 :measure 9
op max *tmp18 *tmp17 -9
op add :measure 9 *tmp18
op shl *tmp20 :accumulator 5
op or :accumulator *tmp20 :measure
op add :newTail .tail 1
write :accumulator bank2 :newTail
set .tail :newTail
write :newTail bank2 510
jump 4 always 0 0
print "Compiled by Mindcode - github.com/cardillan/mindcode"
set .min 0
set .minOre null
set copper @ore-copper
set scrap @ore-scrap
set lead @ore-lead
set sand @sand-floor
set *signature "0:v1"
ubind @mono
set :backgroundProcess:firstUnit @unit
ulocate building core false @copper .coreX .coreY 0 .core
jump 7 equal .core null
set :backgroundProcess:runningCount 0
ubind @mono
sensor *tmp4 :backgroundProcess:firstUnit @dead
select :backgroundProcess:firstUnit notEqual *tmp4 false @unit :backgroundProcess:firstUnit
jump 40 notEqual @unit :backgroundProcess:firstUnit
printflush message1
sensor *tmp9 .core @lead
op sub :backgroundProcess:lead *tmp9 .leadTarget
sensor *tmp11 .sandContainer @sand
sensor *tmp12 .sandContainer @scrap
op add *tmp13 *tmp11 *tmp12
op sub :backgroundProcess:sand *tmp13 .sandTarget
sensor *tmp15 .core @copper
op sub :backgroundProcess:copper *tmp15 .copperTarget
op min *tmp17 :backgroundProcess:lead :backgroundProcess:sand
op min *tmp17 *tmp17 :backgroundProcess:copper
select *tmp21 equal *tmp17 :backgroundProcess:lead @lead @copper
select *tmp19 equal *tmp17 :backgroundProcess:sand @sand *tmp21
set .minOre *tmp19
jump 32 equal .scrap false
select .minOre equal *tmp19 @sand @scrap *tmp19
print "minOre:{0}\n"
format .minOre
op mul *tmp25 10 :backgroundProcess:runningCount
op add .min *tmp17 *tmp25
set .count :backgroundProcess:runningCount
set :backgroundProcess:runningCount 2
sensor .sandX .sandContainer @x
sensor .sandY .sandContainer @y
op add :backgroundProcess:runningCount :backgroundProcess:runningCount 1
sensor :backgroundProcess:flag @unit @flag
print "Unit flag: {0}\n"
format :backgroundProcess:flag
jump 64 notEqual :backgroundProcess:flag 0
sensor *tmp32 @unit @firstItem
jump 50 equal *tmp32 null
ucontrol itemDrop @air 20 0 0 0
sensor *tmp35 @unit @firstItem
jump 12 notEqual *tmp35 null
ulocate ore core true .minOre :findOreToMine:x :findOreToMine:y 0 0
ucontrol approach :findOreToMine:x :findOreToMine:y 7 0 0
ucontrol mine :findOreToMine:x :findOreToMine:y 0 0 0
op mul *tmp40 :findOreToMine:x 1000
op add *tmp41 *tmp40 :findOreToMine:y
op mul *tmp42 *tmp41 16
sensor *tmp43 .minOre @id
op add *tmp44 *tmp42 *tmp43
ucontrol flag *tmp44 0 0 0 0
print "Found {0} at {0}, {0}\n"
format .minOre
format :findOreToMine:x
format :findOreToMine:y
jump 12 always 0 0
jump 79 notEqual :backgroundProcess:flag 1
print "Returning ore"
sensor *tmp47 @unit @firstItem
jump 71 notEqual *tmp47 @scrap
ucontrol approach .sandX .sandY 7 0 0
ucontrol itemDrop .sandContainer 20 0 0 0
jump 73 always 0 0
ucontrol approach .coreX .coreY 7 0 0
ucontrol itemDrop .core 20 0 0 0
sensor *tmp50 @unit @firstItem
jump 77 notEqual *tmp50 null
print " (finished)\n"
ucontrol flag 0 0 0 0 0
print "\n"
jump 12 always 0 0
print "Mining "
op mod *tmp53 :backgroundProcess:flag 16
lookup item :mine:ore *tmp53
printchar :mine:ore
op idiv :mine:flag :backgroundProcess:flag 16
op mod :mine:y :mine:flag 1000
op idiv :mine:x :mine:flag 1000
sensor *tmp57 :mine:ore @name
read :mine:floorOre @this *tmp57
op sub *tmp85 20 .count
select *tmp60 equal :mine:ore @scrap *tmp85 20
jump 97 equal :mine:ore .minOre
jump 97 equal :mine:ore @scrap
sensor *tmp66 .core :mine:ore
jump 97 lessThanEq *tmp66 .min
print ", switching to a more needed ore"
ucontrol flag 1 0 0 0 0
jump 12 always 0 0
sensor :mine:items @unit @totalItems
print :mine:items
sensor *tmp70 @unit @firstItem
jump 103 equal *tmp70 :mine:ore
print " (dropping)"
ucontrol itemDrop @air 20 0 0 0
jump 113 lessThan :mine:items *tmp60
print ", full"
ucontrol flag 1 0 0 0 0
jump 110 notEqual :mine:ore @scrap
ucontrol approach .sandX .sandY 7 0 0
ucontrol itemDrop .sandContainer 20 0 0 0
jump 130 always 0 0
ucontrol approach .coreX .coreY 7 0 0
ucontrol itemDrop .core 20 0 0 0
jump 130 always 0 0
print " at {0}, "
format :mine:x
print :mine:y
ucontrol approach :mine:x :mine:y 7 0 0
ucontrol getBlock :mine:x :mine:y 0 :mine:block :mine:floor
jump 125 equal :mine:floor :mine:floorOre
jump 122 notEqual :mine:floor null
print ": too far\n"
jump 130 always 0 0
ucontrol flag 1 0 0 0 0
print ": no ore!\n"
jump 130 always 0 0
jump 128 notEqual :mine:block null
ucontrol mine :mine:x :mine:y 0 0 0
jump 130 always 0 0
ucontrol flag 1 0 0 0 0
print ": blocked!\n"
print "\n"
jump 12 always 0 0
print "Compiled by Mindcode - github.com/cardillan/mindcode"
jump 4 always 0 0
jump 12 always 0 0
jump 929 always 0 0
jump 948 always 0 0
read *tmp11 processor4 "*signature"
jump 4 notEqual *tmp11 "b7c1b9d437eb2566:v1"
set .attenuationRate 50
set .locations 0
set .count -1
set *signature "2b365030e19b2b7f:v1"
wait 1e12
jump 10 always 0 0
set :findDrillLocation*retaddr 10
set .searchFinished false
ubind :findDrillLocation:unit
set .locationsStart .locations
set .coreX :findDrillLocation:x
set .coreY :findDrillLocation:y
set :findDrillLocation:capacity 0
set :findDrillLocation:dy :findDrillLocation:capacity
set :findDrillLocation:dx :findDrillLocation:dy
set .mapSpots :findDrillLocation:dx
op sub *tmp13 @mapw :findDrillLocation:x
op sub *tmp14 @maph :findDrillLocation:y
op max *tmp15 :findDrillLocation:x :findDrillLocation:y
op max *tmp15 *tmp15 *tmp13
op max *tmp15 *tmp15 *tmp14
set :findDrillLocation:distanceLimit *tmp15
set .angle 0
set .mapProgress 0
ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18 0
jump 35 notEqual *tmp18 false
ucontrol approach :findDrillLocation:x :findDrillLocation:y 5.5 0 0
ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18 0
jump 32 equal *tmp18 false
op div *tmp21 *tmp15 3.8197185279121366
op pow .mapTotal *tmp21 2
set :findDrillLocation:oreX 0
set :findDrillLocation:oreY 0
set :findDrillLocation:best -1
set :findDrillLocation:bestX :findDrillLocation:x
set :findDrillLocation:bestY :findDrillLocation:y
op sub *tmp23 :findDrillLocation:limit :findDrillLocation:capacity
op mul :findDrillLocation:maxDistance *tmp23 .attenuationRate
op min :findDrillLocation:distanceLimit :findDrillLocation:distanceLimit :findDrillLocation:maxDistance
op div *tmp26 :findDrillLocation:distanceLimit 3.8197185279121366
op pow .mapTotal *tmp26 2
set :locateOreAway:x :findDrillLocation:oreX
set :locateOreAway:y :findDrillLocation:oreY
op mul :locateOreAway:distance 3.8197185279121366 .angle
set :locateOreAway:lastX -1
set :locateOreAway:lastY -1
op max .angle .angle @pi
op mul .mapProgress .angle .angle
op sub *tmp37 @mapw 5
op sub *tmp44 @maph 5
jump 120 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
op div :locateOreAway:a .angle @degToRad
op sin *tmp34 :locateOreAway:a 0
op mul *tmp35 *tmp34 :locateOreAway:distance
op add *tmp36 :findDrillLocation:x *tmp35
op max *tmp39 *tmp36 5
op min *tmp38 *tmp39 *tmp37
op cos *tmp41 :locateOreAway:a 0
op mul *tmp42 *tmp41 :locateOreAway:distance
op add *tmp43 :findDrillLocation:y *tmp42
op max *tmp46 *tmp43 5
op min *tmp45 *tmp46 *tmp44
ucontrol within *tmp38 *tmp45 5 *tmp48 0
jump 73 notEqual *tmp48 false
ucontrol approach *tmp38 *tmp45 4.5 0 0
ucontrol within *tmp38 *tmp45 5 *tmp48 0
jump 70 equal *tmp48 false
op div *tmp51 3.8197185279121366 :locateOreAway:distance
op add .angle .angle *tmp51
op mul .mapProgress .angle .angle
op mul :locateOreAway:distance 3.8197185279121366 .angle
ulocate ore core true :findDrillLocation:item :locateOreAway:x :locateOreAway:y *tmp54 0
jump 81 notEqual *tmp54 false
set *tmp28 false
jump 121 always 0 0
op sub *tmp58 :locateOreAway:x :findDrillLocation:x
op abs *tmp59 *tmp58 0
op sub *tmp60 :locateOreAway:y :findDrillLocation:y
op abs *tmp61 *tmp60 0
op max :locateOreAway:coreDist *tmp59 *tmp61
op sub *tmp63 :locateOreAway:x *tmp38
op sub *tmp64 :locateOreAway:y *tmp45
op len :locateOreAway:unitDist *tmp63 *tmp64
jump 91 notEqual :locateOreAway:lastX :locateOreAway:x
jump 119 equal :locateOreAway:lastY :locateOreAway:y
jump 119 lessThan :locateOreAway:coreDist 8
jump 119 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
set :locateOreAway:lastX :locateOreAway:x
set :locateOreAway:lastY :locateOreAway:y
set *tmp75 .locations
set :visited:i .locationsStart
jump 111 greaterThanEq .locationsStart *tmp75
op mul :visited:index 4 :visited:i
op add *tmp78 :visited:index 2
read :visited:lx bank1 *tmp78
op add *tmp81 :visited:index 3
read :visited:ly bank1 *tmp81
op sub *tmp83 :locateOreAway:x :visited:lx
op sub *tmp84 :locateOreAway:y :visited:ly
op len *tmp85 *tmp83 *tmp84
jump 109 greaterThanEq *tmp85 7
set *tmp74 true
jump 112 always 0 0
op add :visited:i :visited:i 1
jump 98 lessThan :visited:i *tmp75
set *tmp74 false
jump 119 notEqual *tmp74 false
op div *tmp90 2 .angle
op add .angle .angle *tmp90
op mul .mapProgress .angle .angle
printflush message1
set *tmp28 true
jump 121 always 0 0
jump 57 lessThan :locateOreAway:distance :findDrillLocation:distanceLimit
set *tmp28 false
set :findDrillLocation:oreX :locateOreAway:x
set :findDrillLocation:oreY :locateOreAway:y
jump 127 notEqual *tmp28 false
set .searchFinished true
op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
jump 203 always 0 0
jump 129 lessThan :findDrillLocation:limit 1000
op add .mapSpots .mapSpots 1
ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp100 0
jump 134 notEqual *tmp100 false
ucontrol approach :locateOreAway:x :locateOreAway:y 5.5 0 0
ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp100 0
jump 131 equal *tmp100 false
set :findDrillLocation:last 0
write @unit processor4 ":findBestPosition:unit"
write :findDrillLocation:oreX processor4 ":findBestPosition:x"
write :findDrillLocation:oreY processor4 ":findBestPosition:y"
write :findDrillLocation:ore processor4 ":findBestPosition:ore"
write :findDrillLocation:size processor4 ":findBestPosition:size"
write false processor4 ":findBestPosition*finished"
write 2 processor4 "@counter"
wait 1e-15
read *tmp110 processor4 ":findBestPosition*finished"
jump 142 equal *tmp110 false
read :findDrillLocation:diffX processor4 ":findBestPosition:bestX"
read :findDrillLocation:diffY processor4 ":findBestPosition:bestY"
read :findDrillLocation:score processor4 ":findBestPosition*retval"
op add :findDrillLocation:newX :findDrillLocation:oreX :findDrillLocation:diffX
op add :findDrillLocation:newY :findDrillLocation:oreY :findDrillLocation:diffY
op sub *tmp114 :findDrillLocation:newX :findDrillLocation:x
op abs *tmp115 *tmp114 0
op sub *tmp116 :findDrillLocation:newY :findDrillLocation:y
op abs *tmp117 *tmp116 0
op max :findDrillLocation:coreDist *tmp115 *tmp117
jump 191 lessThanEq :findDrillLocation:coreDist 8
jump 176 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
set :findDrillLocation:dx :findDrillLocation:newX
set :findDrillLocation:dy :findDrillLocation:newY
set :findDrillLocation:capacity :findDrillLocation:score
select .mapSpots lessThan :findDrillLocation:limit 1000 :findDrillLocation:score .mapSpots
jump 176 lessThan :findDrillLocation:capacity :findDrillLocation:limit
op add .count .count 1
sensor *tmp129 :findDrillLocation:item @id
write *tmp129 bank1 .count
op add .count .count 1
write :findDrillLocation:score bank1 .count
op add .count .count 1
write :findDrillLocation:dx bank1 .count
op add .count .count 1
write :findDrillLocation:dy bank1 .count
op add .locations .locations 1
ucontrol unbind 0 0 0 0 0
set .searchFinished true
set :findDrillLocation*retval true
jump 203 always 0 0
jump 180 lessThanEq :findDrillLocation:score :findDrillLocation:best
set :findDrillLocation:bestX :findDrillLocation:newX
set :findDrillLocation:bestY :findDrillLocation:newY
set :findDrillLocation:best :findDrillLocation:score
jump 191 lessThanEq :findDrillLocation:score :findDrillLocation:last
set :findDrillLocation:last :findDrillLocation:score
op mul :round:x :findDrillLocation:diffX 1.1
op add *tmp143 :round:x 0.5
op floor *tmp142 *tmp143 0
op add :findDrillLocation:oreX :findDrillLocation:oreX *tmp142
op mul :round.1:x :findDrillLocation:diffY 1.1
op add *tmp147 :round.1:x 0.5
op floor *tmp146 *tmp147 0
op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp146
jump 135 always 0 0
jump 39 lessThan :findDrillLocation:best 0
op add .count .count 1
sensor *tmp153 :findDrillLocation:item @id
write *tmp153 bank1 .count
op add .count .count 1
write :findDrillLocation:best bank1 .count
op add .count .count 1
write :findDrillLocation:bestX bank1 .count
op add .count .count 1
write :findDrillLocation:bestY bank1 .count
op add .locations .locations 1
jump 39 always 0 0
set :findDrillLocation*finished true
set @counter :findDrillLocation*retaddr
op add *tmp184 :excludeArea:areaWidth 8
op idiv *tmp185 *tmp184 2
op sub *tmp186 :excludeArea:maskX :excludeArea:areaX
op abs *tmp187 *tmp186 0
op sub :excludeArea:overlapX *tmp185 *tmp187
op add *tmp190 :excludeArea:areaHeight 8
op idiv *tmp191 *tmp190 2
op sub *tmp192 :excludeArea:maskY :excludeArea:areaY
op abs *tmp193 *tmp192 0
op sub :excludeArea:overlapY *tmp191 *tmp193
set :excludeArea*retval :excludeArea:mask
jump 275 lessThanEq :excludeArea:overlapX 0
jump 275 lessThanEq :excludeArea:overlapY 0
op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
op shl *tmp201 1 :excludeArea:blockSizeX
op sub :createMatrixOfSize:row *tmp201 1
set :createMatrixOfSize:matrix :createMatrixOfSize:row
jump 241 greaterThanEq 1 :excludeArea:blockSizeY
op shl *tmp205 :createMatrixOfSize:row 7
op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
jump 241 greaterThanEq 2 :excludeArea:blockSizeY
op shl *tmp205 :createMatrixOfSize:matrix 7
op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
jump 241 greaterThanEq 3 :excludeArea:blockSizeY
op shl *tmp205 :createMatrixOfSize:matrix 7
op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
jump 241 greaterThanEq 4 :excludeArea:blockSizeY
op shl *tmp205 :createMatrixOfSize:matrix 7
op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
jump 241 greaterThanEq 5 :excludeArea:blockSizeY
op shl *tmp205 :createMatrixOfSize:matrix 7
op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
jump 241 greaterThanEq 6 :excludeArea:blockSizeY
op shl *tmp205 :createMatrixOfSize:matrix 7
op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
op lessThan *tmp207 :excludeArea:maskX :excludeArea:areaX
op sub *tmp208 7 :excludeArea:blockSizeX
op mul :excludeArea:shiftX *tmp207 *tmp208
op lessThan *tmp210 :excludeArea:maskY :excludeArea:areaY
op sub *tmp211 7 :excludeArea:blockSizeY
op mul :excludeArea:shiftY *tmp210 *tmp211
op abs *tmp161 :excludeArea:shiftX 0
jump 251 greaterThan *tmp161 6
op abs *tmp163 :excludeArea:shiftY 0
jump 253 lessThanEq *tmp163 6
set :shiftMask*retval 0
jump 274 always 0 0
op mul *tmp166 7 :excludeArea:shiftY
op add :shiftMask:shift :excludeArea:shiftX *tmp166
jump 260 lessThanEq :shiftMask:shift 0
op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
op and *tmp171 :createMatrixOfSize:matrix :shiftMask:clearMask
op shl :shiftMask:mask *tmp171 :shiftMask:shift
jump 262 always 0 0
op sub *tmp173 0 :shiftMask:shift
op shr :shiftMask:mask :createMatrixOfSize:matrix *tmp173
jump 273 equal :excludeArea:shiftX 0
op shr :shiftMask:keep 0b1111111 *tmp161
jump 266 lessThanEq :excludeArea:shiftX 0
op shl :shiftMask:keep :shiftMask:keep :excludeArea:shiftX
op shl *tmp180 :shiftMask:keep 7
op or :shiftMask:keep :shiftMask:keep *tmp180
op shl *tmp181 :shiftMask:keep 14
op or :shiftMask:keep :shiftMask:keep *tmp181
op shl *tmp182 :shiftMask:keep 21
op or :shiftMask:keep :shiftMask:keep *tmp182
op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
set :shiftMask*retval :shiftMask:mask
op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
set @counter :excludeArea*retaddr
set :findPossiblePlacement:y -3
jump 298 greaterThan :findPossiblePlacement:y 3
op add *tmp214 :findPossiblePlacement:y 3
op mul *tmp215 7 *tmp214
op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp215
set :findPossiblePlacement:x -3
jump 294 greaterThan :findPossiblePlacement:x 3
op and *tmp217 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
jump 289 notEqual *tmp217 0
op mul *tmp220 :findPossiblePlacement:y 7
op add *tmp221 24 *tmp220
op add :findPossiblePlacement*retval *tmp221 :findPossiblePlacement:x
set @counter :findPossiblePlacement*retaddr
op sub *tmp223 3 :findPossiblePlacement:width
jump 294 greaterThan :findPossiblePlacement:x *tmp223
op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
op add :findPossiblePlacement:x :findPossiblePlacement:x 1
jump 283 lessThanEq :findPossiblePlacement:x 3
op sub *tmp226 3 :findPossiblePlacement:height
jump 298 greaterThan :findPossiblePlacement:y *tmp226
op add :findPossiblePlacement:y :findPossiblePlacement:y 1
jump 278 lessThanEq :findPossiblePlacement:y 3
set :findPossiblePlacement*retval -1
set @counter :findPossiblePlacement*retaddr
set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
set :findPossiblePlacement:width 2
set :findPossiblePlacement:height 4
set :findPossiblePlacement*retaddr 306
jump 276 always 0 0
jump 320 lessThan :findPossiblePlacement*retval 0
jump 310 greaterThanEq :findPossiblePlacement*retval 0
set :tryPlaceGenerator*retval false
set @counter :tryPlaceGenerator*retaddr
op add *tmp234 :tryPlaceGenerator:centerX 0.5
op add .water2X *tmp234 :findPossiblePlacement:x
op add *tmp236 :tryPlaceGenerator:centerY 0.5
op add .water2Y *tmp236 :findPossiblePlacement:y
op add .generatorX *tmp234 :findPossiblePlacement:x
op add *tmp240 :tryPlaceGenerator:centerY 2.5
op add .generatorY *tmp240 :findPossiblePlacement:y
op shl *tmp242 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp242
jump 338 always 0 0
set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorHorizontal
set :findPossiblePlacement:width 4
set :findPossiblePlacement:height 2
set :findPossiblePlacement*retaddr 326
jump 276 always 0 0
jump 329 greaterThanEq :findPossiblePlacement*retval 0
set :tryPlaceGenerator*retval false
set @counter :tryPlaceGenerator*retaddr
op add *tmp246 :tryPlaceGenerator:centerX 0.5
op add .water2X *tmp246 :findPossiblePlacement:x
op add *tmp248 :tryPlaceGenerator:centerY 0.5
op add .water2Y *tmp248 :findPossiblePlacement:y
op add *tmp250 :tryPlaceGenerator:centerX 2.5
op add .generatorX *tmp250 :findPossiblePlacement:x
op add .generatorY *tmp248 :findPossiblePlacement:y
op shl *tmp254 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp254
op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
set :findPossiblePlacement:placementMask 1
set :findPossiblePlacement:width 1
set :findPossiblePlacement:height 1
set :findPossiblePlacement*retaddr 345
jump 276 always 0 0
jump 348 greaterThanEq :findPossiblePlacement*retval 0
set :tryPlaceGenerator*retval false
set @counter :tryPlaceGenerator*retaddr
op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
op shl *tmp260 1 :findPossiblePlacement*retval
op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp260
set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
set :findPossiblePlacement:placementMask 1
set :findPossiblePlacement:width 1
set :findPossiblePlacement:height 1
set :findPossiblePlacement*retaddr 358
jump 276 always 0 0
jump 361 greaterThanEq :findPossiblePlacement*retval 0
set :tryPlaceGenerator*retval false
set @counter :tryPlaceGenerator*retaddr
op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
op shl *tmp266 1 :findPossiblePlacement*retval
op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp266
op sub *tmp267 .water2X .node1X
op sub *tmp268 .water2Y .node1Y
op len *tmp269 *tmp267 *tmp268
jump 381 greaterThan *tmp269 7
op sub *tmp271 .generatorX .node1X
op sub *tmp272 .generatorY .node1Y
op len *tmp273 *tmp271 *tmp272
jump 381 greaterThan *tmp273 7
op sub *tmp275 .panelX .node1X
op sub *tmp276 .panelY .node1Y
op len *tmp277 *tmp275 *tmp276
jump 381 greaterThan *tmp277 6
op sub *tmp279 .batteryX .node1X
op sub *tmp280 .batteryY .node1Y
op len *tmp281 *tmp279 *tmp280
jump 392 lessThanEq *tmp281 6
set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
set :findPossiblePlacement:placementMask 1
set :findPossiblePlacement:width 1
set :findPossiblePlacement:height 1
set :findPossiblePlacement*retaddr 387
jump 276 always 0 0
jump 390 greaterThanEq :findPossiblePlacement*retval 0
set :tryPlaceGenerator*retval false
set @counter :tryPlaceGenerator*retaddr
op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
set :tryPlaceGenerator*retval true
set @counter :tryPlaceGenerator*retaddr
write @unit processor4 ":createTerrainMask:unit"
write :createCombinedMask:x processor4 ":createTerrainMask:x"
write :createCombinedMask:y processor4 ":createTerrainMask:y"
write false processor4 ":createTerrainMask*finished"
write 1 processor4 "@counter"
op add *tmp300 :createCombinedMask:y 4
op add *tmp291 :createCombinedMask:x 4
ucontrol getBlock *tmp291 *tmp300 0 :createBlockMaskRow:result 0
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 3
ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 2
ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 1
ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
ucontrol getBlock :createCombinedMask:x *tmp300 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -1
ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -2
ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -3
ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -4
ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
op or :createAdjacentMask:row2 *tmp290 *tmp292
op add *tmp302 :createCombinedMask:y 3
op add *tmp291 :createCombinedMask:x 4
ucontrol getBlock *tmp291 *tmp302 0 :createBlockMaskRow:result 0
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 3
ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 2
ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 1
ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
ucontrol getBlock :createCombinedMask:x *tmp302 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -1
ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -2
ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -3
ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -4
ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
op or :createAdjacentMask:row1 *tmp290 *tmp292
op add *tmp304 :createCombinedMask:y 2
op add *tmp291 :createCombinedMask:x 4
ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:result 0
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 3
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 2
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 1
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -1
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -2
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -3
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -4
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp306 :createAdjacentMask:row1 1
op or *tmp307 :createAdjacentMask:row2 *tmp306
op shr *tmp308 :createAdjacentMask:row1 1
op or *tmp309 *tmp307 *tmp308
op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
op and :createAdjacentMask:result :createAdjacentMask:mask 0xFE
set :createAdjacentMask:row2 :createAdjacentMask:row1
set :createAdjacentMask:row1 :createBlockMaskRow:result
op add *tmp304 :createCombinedMask:y 1
op add *tmp291 :createCombinedMask:x 4
ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:result 0
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 3
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 2
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 1
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -1
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -2
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -3
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -4
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp306 :createAdjacentMask:row1 1
op or *tmp307 :createAdjacentMask:row2 *tmp306
op shr *tmp308 :createAdjacentMask:row1 1
op or *tmp309 *tmp307 *tmp308
op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
op shl *tmp311 :createAdjacentMask:result 7
op and *tmp312 :createAdjacentMask:mask 0xFE
op or :createAdjacentMask:result *tmp311 *tmp312
set :createAdjacentMask:row2 :createAdjacentMask:row1
set :createAdjacentMask:row1 :createBlockMaskRow:result
op add *tmp291 :createCombinedMask:x 4
ucontrol getBlock *tmp291 :createCombinedMask:y 0 :createBlockMaskRow:result 0
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 3
ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 2
ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 1
ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
ucontrol getBlock :createCombinedMask:x :createCombinedMask:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -1
ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -2
ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -3
ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -4
ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp306 :createAdjacentMask:row1 1
op or *tmp307 :createAdjacentMask:row2 *tmp306
op shr *tmp308 :createAdjacentMask:row1 1
op or *tmp309 *tmp307 *tmp308
op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
op shl *tmp311 :createAdjacentMask:result 7
op and *tmp312 :createAdjacentMask:mask 0xFE
op or :createAdjacentMask:result *tmp311 *tmp312
set :createAdjacentMask:row2 :createAdjacentMask:row1
set :createAdjacentMask:row1 :createBlockMaskRow:result
op add *tmp304 :createCombinedMask:y -1
op add *tmp291 :createCombinedMask:x 4
ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:result 0
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 3
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 2
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 1
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -1
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -2
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -3
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -4
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp306 :createAdjacentMask:row1 1
op or *tmp307 :createAdjacentMask:row2 *tmp306
op shr *tmp308 :createAdjacentMask:row1 1
op or *tmp309 *tmp307 *tmp308
op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
op shl *tmp311 :createAdjacentMask:result 7
op and *tmp312 :createAdjacentMask:mask 0xFE
op or :createAdjacentMask:result *tmp311 *tmp312
set :createAdjacentMask:row2 :createAdjacentMask:row1
set :createAdjacentMask:row1 :createBlockMaskRow:result
op add :createBlockMaskRow:y :createCombinedMask:y -2
op add *tmp291 :createCombinedMask:x 4
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 :createBlockMaskRow:result 0
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 3
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 2
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 1
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
ucontrol getBlock :createCombinedMask:x :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -1
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -2
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -3
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -4
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow*retval *tmp290 *tmp292
op shl *tmp306 :createAdjacentMask:row1 1
op or *tmp307 :createAdjacentMask:row2 *tmp306
op shr *tmp308 :createAdjacentMask:row1 1
op or *tmp309 *tmp307 *tmp308
op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
op shl *tmp311 :createAdjacentMask:result 7
op and *tmp312 :createAdjacentMask:mask 0xFE
op or :createAdjacentMask:result *tmp311 *tmp312
set :createAdjacentMask:row2 :createAdjacentMask:row1
set :createAdjacentMask:row1 :createBlockMaskRow*retval
op add :createBlockMaskRow:y :createCombinedMask:y -3
op add *tmp291 :createCombinedMask:x 4
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 :createBlockMaskRow:result 0
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 3
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 2
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 1
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
ucontrol getBlock :createCombinedMask:x :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -1
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -2
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -3
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -4
ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
op or :createBlockMaskRow*retval *tmp290 *tmp292
op shl *tmp306 :createAdjacentMask:row1 1
op or *tmp307 :createAdjacentMask:row2 *tmp306
op shr *tmp308 :createAdjacentMask:row1 1
op or *tmp309 *tmp307 *tmp308
op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
op shl *tmp311 :createAdjacentMask:result 7
op and *tmp312 :createAdjacentMask:mask 0xFE
op or :createAdjacentMask:result *tmp311 *tmp312
set :createAdjacentMask:row2 :createAdjacentMask:row1
set :createAdjacentMask:row1 :createBlockMaskRow*retval
op add *tmp304 :createCombinedMask:y -4
set :createBlockMaskRow:y *tmp304
op add *tmp291 :createCombinedMask:x 4
ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:result 0
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 3
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 2
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x 1
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -1
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -2
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -3
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow:result *tmp290 *tmp292
op shl *tmp290 :createBlockMaskRow:result 1
op add *tmp291 :createCombinedMask:x -4
ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
op or :createBlockMaskRow*retval *tmp290 *tmp292
op shl *tmp306 :createAdjacentMask:row1 1
op or *tmp307 :createAdjacentMask:row2 *tmp306
op shr *tmp308 :createAdjacentMask:row1 1
op or *tmp309 *tmp307 *tmp308
op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
op shl *tmp311 :createAdjacentMask:result 7
op and *tmp312 :createAdjacentMask:mask 0xFE
op or :createAdjacentMask:result *tmp311 *tmp312
set :createAdjacentMask:row2 :createAdjacentMask:row1
set :createAdjacentMask:row1 :createBlockMaskRow*retval
op shr *tmp299 :createAdjacentMask:result 1
wait 1e-15
read *tmp315 processor4 ":createTerrainMask*finished"
jump 774 equal *tmp315 false
read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
op or :excludeArea:mask *tmp299 :createCombinedMask:terrainMask
set :excludeArea:maskX :createCombinedMask:x
set :excludeArea:maskY :createCombinedMask:y
set :excludeArea:areaX .coreX
set :excludeArea:areaY .coreY
set :excludeArea:areaWidth 15
set :excludeArea:areaHeight 15
set :excludeArea*retaddr 787
jump 205 always 0 0
set :createCombinedMask*retval :excludeArea*retval
set @counter :createCombinedMask*retaddr
set .panelY -1
set .panelX -1
set .generatorY -1
set .generatorX -1
set .water2Y -1
set .water2X -1
set .water1Y -1
set .water1X -1
set :moveTo.5:x .drillX
set :moveTo.5:y .drillY
ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp318 0
jump 804 notEqual *tmp318 false
ucontrol approach :moveTo.5:x :moveTo.5:y 0.5 0 0
ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp318 0
jump 801 equal *tmp318 false
set :createCombinedMask:x .drillX
set :createCombinedMask:y .drillY
set :createCombinedMask*retaddr 808
jump 394 always 0 0
op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
set :layoutThoriumDrillAtLocation:mask2x2 387
set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
set :findPossiblePlacement:placementMask 387
set :findPossiblePlacement:width 2
set :findPossiblePlacement:height 2
set :findPossiblePlacement*retaddr 817
jump 276 always 0 0
jump 825 lessThan :findPossiblePlacement*retval 0
op add *tmp327 .drillX 0.5
op add .water1X *tmp327 :findPossiblePlacement:x
op add *tmp329 .drillY 0.5
op add .water1Y *tmp329 :findPossiblePlacement:y
op shl *tmp331 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp331
op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp331
set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
set :findPossiblePlacement:width 2
set :findPossiblePlacement:height 2
set :findPossiblePlacement*retaddr 831
jump 276 always 0 0
jump 838 lessThan :findPossiblePlacement*retval 0
op add *tmp336 .drillX 0.5
op add .containerX *tmp336 :findPossiblePlacement:x
op add *tmp338 .drillY 0.5
op add .containerY *tmp338 :findPossiblePlacement:y
op shl *tmp340 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp340
op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumDrillAtLocation:terrainMask 437639987601635
set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:nodeMask
set :findPossiblePlacement:placementMask 1
set :findPossiblePlacement:width 1
set :findPossiblePlacement:height 1
set :findPossiblePlacement*retaddr 845
jump 276 always 0 0
jump 848 greaterThanEq :findPossiblePlacement*retval 0
set :layoutThoriumDrillAtLocation*retval false
set @counter :layoutThoriumDrillAtLocation*retaddr
op add .node1X .drillX :findPossiblePlacement:x
op add .node1Y .drillY :findPossiblePlacement:y
op shl *tmp347 1 :findPossiblePlacement*retval
op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp347
set :layoutThoriumDrillAtLocation:generatorHorizontal 1935
set :layoutThoriumDrillAtLocation:generatorVertical 6340995
set :tryPlaceGenerator:centerX .drillX
set :tryPlaceGenerator:centerY .drillY
set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:terrainMask
set :tryPlaceGenerator:generatorHorizontal 1935
set :tryPlaceGenerator:generatorVertical 6340995
set :tryPlaceGenerator*retaddr 861
jump 300 always 0 0
jump 864 equal :tryPlaceGenerator*retval false
set :layoutThoriumDrillAtLocation*retval true
set @counter :layoutThoriumDrillAtLocation*retaddr
set :layoutThoriumDrillAtLocation:sx 3
set :layoutThoriumDrillAtLocation:sy 3
set *tmp350 868
jump 879 always 0 0
set :layoutThoriumDrillAtLocation:sx 3
set :layoutThoriumDrillAtLocation:sy -3
set *tmp350 872
jump 879 always 0 0
set :layoutThoriumDrillAtLocation:sx -3
set :layoutThoriumDrillAtLocation:sy 3
set *tmp350 876
jump 879 always 0 0
set :layoutThoriumDrillAtLocation:sx -3
set :layoutThoriumDrillAtLocation:sy -3
set *tmp350 927
op sub :layoutThoriumDrillAtLocation:newX .drillX :layoutThoriumDrillAtLocation:sx
op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutThoriumDrillAtLocation:sy
set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX
set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY
set :createCombinedMask*retaddr 885
jump 394 always 0 0
set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
op abs *tmp161 :layoutThoriumDrillAtLocation:sx 0
jump 890 greaterThan *tmp161 6
op abs *tmp163 :layoutThoriumDrillAtLocation:sy 0
jump 892 lessThanEq *tmp163 6
set :shiftMask*retval 0
jump 913 always 0 0
op mul *tmp166 7 :layoutThoriumDrillAtLocation:sy
op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tmp166
jump 899 lessThanEq :shiftMask:shift 0
op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
op and *tmp171 :layoutThoriumDrillAtLocation:terrainMask :shiftMask:clearMask
op shl :shiftMask:mask *tmp171 :shiftMask:shift
jump 901 always 0 0
op sub *tmp173 0 :shiftMask:shift
op shr :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask *tmp173
jump 912 equal :layoutThoriumDrillAtLocation:sx 0
op shr :shiftMask:keep 0b1111111 *tmp161
jump 905 lessThanEq :layoutThoriumDrillAtLocation:sx 0
op shl :shiftMask:keep :shiftMask:keep :layoutThoriumDrillAtLocation:sx
op shl *tmp180 :shiftMask:keep 7
op or :shiftMask:keep :shiftMask:keep *tmp180
op shl *tmp181 :shiftMask:keep 14
op or :shiftMask:keep :shiftMask:keep *tmp181
op shl *tmp182 :shiftMask:keep 21
op or :shiftMask:keep :shiftMask:keep *tmp182
op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
set :shiftMask*retval :shiftMask:mask
op or :layoutThoriumDrillAtLocation:combinedMask :createCombinedMask*retval :shiftMask*retval
op sub *tmp356 .drillX :layoutThoriumDrillAtLocation:sx
op sub *tmp357 .drillY :layoutThoriumDrillAtLocation:sy
set :tryPlaceGenerator:centerX *tmp356
set :tryPlaceGenerator:centerY *tmp357
set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:combinedMask
set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
set :tryPlaceGenerator*retaddr 923
jump 300 always 0 0
jump 926 equal :tryPlaceGenerator*retval false
set :layoutThoriumDrillAtLocation*retval true
set @counter :layoutThoriumDrillAtLocation*retaddr
set @counter *tmp350
set :layoutThoriumDrillAtLocation*retval true
set @counter :layoutThoriumDrillAtLocation*retaddr
set :findDrillLocation:x :layoutThoriumDrill:x
set :findDrillLocation:y :layoutThoriumDrill:y
set :findDrillLocation:unit :layoutThoriumDrill:unit
set :findDrillLocation:item @thorium
set :findDrillLocation:ore @ore-thorium
set :findDrillLocation:size 3
set :findDrillLocation:limit :layoutThoriumDrill:limit
set :findDrillLocation*retaddr 938
jump 13 always 0 0
set .drillX :findDrillLocation:dx
set .drillY :findDrillLocation:dy
jump 943 notEqual :findDrillLocation*retval false
set :layoutThoriumDrill*retval false
jump 946 always 0 0
set :layoutThoriumDrillAtLocation*retaddr 945
jump 789 always 0 0
set :layoutThoriumDrill*retval :layoutThoriumDrillAtLocation*retval
set :layoutThoriumDrill*finished true
jump 10 always 0 0
set .mapSpots 0
set .mapTotal 0
set .mapProgress 0
ucontrol unbind 0 0 0 0 0
set :stopLocation*finished true
jump 10 always 0 0
print "Compiled by Mindcode - github.com/cardillan/mindcode"
jump 3 always 0 0
jump 169 always 0 0
jump 162 always 0 0
set .thoriumContainer null
set .thoriumLimit 100
set .thoriumContainerX 0
set .thoriumContainerY 0
set .ore @coal
set .coalX 0
set .coalY 0
set .coalDistance 1000000000
set .scrapX 0
set .scrapY 0
set .scrapDistance 1000000000
ubind @poly
set .builder @unit
ulocate building core false @copper .coreX .coreY 0 .core
jump 14 equal .core null
set *signature "2bc8cecff9ae5b38:v1"
jump 160 equal .core null
ubind @poly
jump 25 notEqual @unit .builder
print "Found builder unit.\n"
printflush message1
jump 20 always 0 0
jump 28 notEqual .thoriumDrone null
set .thoriumDrone @unit
jump 20 always 0 0
jump 42 notEqual @unit .thoriumDrone
sensor *tmp12 .thoriumContainer @thorium
jump 42 lessThanEq *tmp12 .thoriumLimit
sensor :serviceThoriumDrill:item @unit @firstItem
jump 36 notEqual :serviceThoriumDrill:item @thorium
ucontrol approach .coreX .coreY 6 0 0
ucontrol itemDrop .core 30 0 0 0
jump 20 always 0 0
jump 40 notEqual :serviceThoriumDrill:item null
ucontrol approach .thoriumContainerX .thoriumContainerY 6 0 0
ucontrol itemTake .thoriumContainer @thorium 30 0 0
jump 20 always 0 0
ucontrol itemDrop @air 30 0 0 0
jump 20 always 0 0
jump 46 equal .container false
sensor :backgroundProcess:coal .core @coal
select *tmp25 greaterThan :backgroundProcess:coal 220 @scrap .ore
select .ore lessThan :backgroundProcess:coal 120 @coal *tmp25
sensor :backgroundProcess:flag @unit @flag
print "Unit flag: {0}\n"
format :backgroundProcess:flag
read @counter "3No" :backgroundProcess:flag
jump 20 always 0 0
sensor *tmp29 @unit @firstItem          # Origin: 49, keys: 0
jump 58 equal *tmp29 null
ucontrol itemDrop @air 30 0 0 0
sensor *tmp32 @unit @firstItem
jump 58 equal *tmp32 null
print "Holding wrong item.\n"
jump 20 always 0 0
select *tmp36 equal .ore @coal 1 2
ucontrol flag *tmp36 0 0 0 0
select *tmp38 equal .ore @coal .coreX .containerX
select *tmp40 equal .ore @coal .coreY .containerY
select *tmp42 equal .ore @coal .coalDistance .scrapDistance
ulocate ore core true .ore :findOreToMine:x :findOreToMine:y 0 0
op sub *tmp45 :findOreToMine:x *tmp38
op sub *tmp46 :findOreToMine:y *tmp40
op len :findOreToMine:dist *tmp45 *tmp46
jump 76 greaterThanEq :findOreToMine:dist *tmp42
jump 73 notEqual .ore @coal
set .coalX :findOreToMine:x
set .coalY :findOreToMine:y
set .coalDistance :findOreToMine:dist
jump 76 always 0 0
set .scrapX :findOreToMine:x
set .scrapY :findOreToMine:y
set .scrapDistance :findOreToMine:dist
ucontrol approach :findOreToMine:x :findOreToMine:y 6 0 0
jump 20 always 0 0
print "Mining "                        # Origin: 49, keys: 1
jump 84 equal .ore @coal
print ", switching"
ucontrol approach .coreX .coreY 6 0 0
ucontrol itemDrop .core 30 0 0 0
ucontrol flag 3 0 0 0 0
sensor *tmp54 @unit @firstItem
jump 88 equal *tmp54 @coal
print " (dropping)"
ucontrol itemDrop @air 30 0 0 0
print " at {0}, "
format .coalX
print .coalY
ucontrol approach .coalX .coalY 6 0 0
ucontrol mine .coalX .coalY 0 0 0
sensor *tmp57 @unit @totalItems
jump 100 lessThan *tmp57 30
print ", full"
ucontrol approach .coreX .coreY 6 0 0
ucontrol itemDrop .core 30 0 0 0
ucontrol flag 3 0 0 0 0
jump 109 always 0 0
ucontrol within .coalX .coalY 6.5 *tmp60 0
jump 109 equal *tmp60 false
sensor *tmp62 @unit @mining
jump 109 notEqual *tmp62 false
print ", ore lost"
set .coalDistance 1000000000
ucontrol approach .coreX .coreY 6 0 0
ucontrol itemDrop .core 30 0 0 0
ucontrol flag 3 0 0 0 0
print "\n"
jump 20 always 0 0
print "Mining "                        # Origin: 49, keys: 2
jump 117 equal .ore @scrap
print ", switching"
ucontrol approach .containerX .containerY 6 0 0
ucontrol itemDrop .container 30 0 0 0
ucontrol flag 4 0 0 0 0
sensor *tmp67 @unit @firstItem
jump 121 equal *tmp67 @scrap
print " (dropping)"
ucontrol itemDrop @air 30 0 0 0
print " at {0}, "
format .scrapX
print .scrapY
ucontrol approach .scrapX .scrapY 6 0 0
ucontrol mine .scrapX .scrapY 0 0 0
sensor *tmp70 @unit @totalItems
jump 133 lessThan *tmp70 25
print ", full"
ucontrol approach .containerX .containerY 6 0 0
ucontrol itemDrop .container 30 0 0 0
ucontrol flag 4 0 0 0 0
jump 142 always 0 0
ucontrol within .scrapX .scrapY 6.5 *tmp73 0
jump 142 equal *tmp73 false
sensor *tmp75 @unit @mining
jump 142 notEqual *tmp75 false
print ", ore lost"
set .scrapDistance 1000000000
ucontrol approach .containerX .containerY 6 0 0
ucontrol itemDrop .container 30 0 0 0
ucontrol flag 4 0 0 0 0
print "\n"
jump 20 always 0 0
print "Returning\n"                     # Origin: 49, keys: 3
ucontrol approach .coreX .coreY 6 0 0
ucontrol itemDrop .core 30 0 0 0
sensor *tmp78 @unit @firstItem
jump 20 notEqual *tmp78 null
print "    Finished\n"
ucontrol flag 0 0 0 0 0
jump 20 always 0 0
print "Returning\n"                     # Origin: 49, keys: 4
ucontrol approach .containerX .containerY 6 0 0
ucontrol itemDrop .container 30 0 0 0
sensor *tmp81 @unit @firstItem
jump 20 notEqual *tmp81 null
print "    Finished\n"
ucontrol flag 0 0 0 0 0
jump 20 always 0 0
wait 1e12
jump 19 always 0 0
set .thoriumContainer :setThoriumContainer:container
sensor .thoriumContainerX :setThoriumContainer:container @x
sensor .thoriumContainerY :setThoriumContainer:container @y
sensor *tmp86 .thoriumContainer @itemCapacity
select .thoriumLimit greaterThan *tmp86 10 100 0
set :setThoriumContainer*finished true
jump 19 always 0 0
set .container :setScrapContainer:scrapContainer
sensor .containerX .container @x
sensor .containerY .container @y
set :setScrapContainer*finished true
jump 19 always 0 0
print "Compiled by Mindcode - github.com/cardillan/mindcode"
setprop @copper shard1 300
setprop @lead shard1 90
setprop @graphite shard1 120
sensor *tmp0 switch1 @enabled
jump 3 equal *tmp0 false
control enabled switch1 false 0 0 0
setprop @copper shard1 3000
setprop @lead shard1 3000
setprop @metaglass shard1 3000
setprop @graphite shard1 3000
setprop @sand shard1 3000
setprop @coal shard1 3000
setprop @titanium shard1 3000
setprop @thorium shard1 3000
setprop @scrap shard1 3000
setprop @silicon shard1 3000
jump 3 always 0 0
print "Compiled by Mindcode - github.com/cardillan/mindcode"
